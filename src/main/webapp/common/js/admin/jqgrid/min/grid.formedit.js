var $jscomp={scope:{},findInternal:function(a,p,v){a instanceof String&&(a=String(a));for(var A=a.length,B=0;B<A;B++){var R=a[B];if(p.call(v,R,B,a))return{i:B,v:R}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,p,v){if(v.get||v.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[p]=v.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,p,v,A){if(p){v=$jscomp.global;a=a.split(".");for(A=0;A<a.length-1;A++){var B=a[A];B in v||(v[B]={});v=v[B]}a=a[a.length-1];A=v[a];p=p(A);p!=A&&null!=p&&$jscomp.defineProperty(v,a,{configurable:!0,writable:!0,value:p})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,v){return $jscomp.findInternal(this,a,v).v}},"es6-impl","es3");
(function(a){"function"===typeof define&&define.amd?define("jquery ./grid.base ./jquery.fmatter ./grid.common ./grid.filter ./jsonxml".split(" "),a):"object"===typeof module&&module.exports?module.exports=function(p,v){p||(p=window);void 0===v&&(v="undefined"!==typeof window?require("jquery"):require("jquery")(p));require("./grid.base");require("./jquery.fmatter");require("./grid.common");require("./jsonxml");a(v);return v}:a(jQuery)})(function(a){var p=a.jgrid,v=p.jqID,A=a.fn.jqGrid,B=A.getGuiStyles,
R=p.mergeCssClasses,U=p.hasOneFromClasses,fa=p.feedback,ia=p.fullBoolFeedback,O=p.builderFmButon,da=function(a,p,c){!0===p[0]&&(c="<span class='"+R("fm-button-icon",c,p[2])+"'></span>","right"===p[1]?a.addClass("fm-button-icon-right").append(c):a.addClass("fm-button-icon-left").prepend(c))},P=function(a){return B.call(this,"states."+a)},na=function(p){p.find("tr[data-rowpos]").each(function(){var p=0;a(this).children("td").each(function(){"hidden"!==a(this).css("visibility")&&p++});p||a(this).hide()})},
ea=function(a){return"&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0)};p.extend({searchGrid:function(n){return this.each(function(){function S(b){K("beforeShow",b)&&(a(t).data("onClose",d.onClose),p.viewModal.call(c,t,{gbox:g,jqm:d.jqModal,overlay:d.overlay,modal:d.modal,overlayClass:d.overlayClass,toTop:d.toTop,onHide:function(a){a.w.remove();a.o&&a.o.remove()}}),K("afterShow",b))}var c=this,q=a(c),l=c.p;if(c.grid&&null!=l){var d=a.extend(!0,{drag:!0,sField:"searchField",sValue:"searchString",
sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,removemodal:!0,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",
showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"IS NOT NULL"}},A.getGridRes.call(q,"search"),p.search||{},l.searching||{},n||{}),e="fbox_"+l.id,h=d.commonIconClass,m={themodal:"searchmod"+e,modalhead:"searchhd"+e,modalcontent:"searchcnt"+e,resizeAlso:e},t="#"+v(m.themodal),g=l.gBox,f=l.gView,u=a.each,r=l.postData[d.sFilter],K=function(){var b=a.makeArray(arguments);
b.unshift("Search");b.unshift("Filter");b.unshift(d);return fa.apply(c,b)},L=function(){p.hideModal(t,{gb:g,jqm:d.jqModal,onClose:d.onClose,removemodal:d.removemodal})};"string"===typeof r&&(r=""!==a.trim(r)?a.parseJSON(r):void 0);a(t).remove();if(void 0!==a(t)[0])S(a("#fbox_"+v(l.id)));else{var b=a("<div><div id='"+e+"' class='"+B.call(c,"dialog.body","searchFilter")+"' style='overflow:auto'></div></div>").insertBefore(f);"rtl"===l.direction&&b.attr("dir","rtl");var z="",G="",F,C=!1,w,I=-1,x=a.extend([],
l.colModel);w=O.call(c,e+"_search",d.Find,R(h,d.findDialogIcon),"right");var J=O.call(c,e+"_reset",d.Reset,R(h,d.resetDialogIcon),"left");d.showQuery&&(z=O.call(c,e+"_query","Query",R(h,d.queryDialogIcon),"left")+"&#160;");d.searchForAdditionalProperties&&u(l.additionalProperties,function(){var a="string"===typeof this?{name:this}:this;a.label||(a.label=a.name);a.isAddProp=!0;x.push(a)});d.columns.length?(x=d.columns,I=0,F=x[0].index||x[0].name):u(x,function(a,b){b.label||(b.label=b.isAddProp?b.name:
l.colNames[a]);if(!C){var d=void 0===b.search?!0:b.search,e=!0===b.hidden;if(b.searchoptions&&!0===b.searchoptions.searchhidden&&d||d&&!e)C=!0,F=b.index||b.name,I=a}});if(!r&&F||!1===d.multipleSearch)h="eq",0<=I&&x[I].searchoptions&&x[I].searchoptions.sopt?h=x[I].searchoptions.sopt[0]:d.sopt&&d.sopt.length&&(h=d.sopt[0]),r={groupOp:"AND",rules:[{field:F,op:h,data:""}]};C=!1;d.tmplNames&&d.tmplNames.length&&(C=!0,G=d.tmplLabel,G+="<select class='ui-template'>",G+="<option value='default'>Default</option>",
u(d.tmplNames,function(a,b){G+="<option value='"+a+"'>"+b+"</option>"}),G+="</select>");w="<div class='"+B.call(c,"dialog.footer")+"'><table class='EditTable' style='border:0px none;margin-top:5px' id='"+e+"_2'><tbody><tr><td colspan='2'><hr class='"+B.call(c,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='EditButton EditButton-"+l.direction+"'  style='float:"+("rtl"===l.direction?"right":"left")+";'>"+J+G+"</td><td class='EditButton EditButton-"+l.direction+"'>"+z+w+"</td></tr></tbody></table></div>";
e=v(e);d.gbox=g;d.height="auto";e="#"+e;a(e).jqFilter({columns:x,filter:d.loadDefaults?r:null,showQuery:d.showQuery,errorcheck:d.errorcheck,sopt:d.sopt,groupButton:d.multipleGroup,ruleButtons:d.multipleSearch,afterRedraw:d.afterRedraw,ops:d.odata,cops:l.customSortOperations,operands:d.operands,ajaxSelectOptions:l.ajaxSelectOptions,groupOps:d.groupOps,onChange:function(b,g){b.showQuery&&a(".query",g).text(g.toUserFriendlyString());ia.call(c,d.afterChange,"jqGridFilterAfterChange",a(e),d,b,g)},direction:l.direction,
id:l.id});b.append(w);if(C&&d.tmplFilters&&d.tmplFilters.length)a(".ui-template",b).on("change",function(){var b=a(this).val();"default"===b?a(e).jqFilter("addFilter",r):a(e).jqFilter("addFilter",d.tmplFilters[parseInt(b,10)]);return!1});!0===d.multipleGroup&&(d.multipleSearch=!0);K("onInitialize",a(e));d.layer?p.createModal.call(c,m,b,d,f,a(g)[0],"#"+v(d.layer),{position:"relative"}):p.createModal.call(c,m,b,d,f,a(g)[0]);(d.searchOnEnter||d.closeOnEscape)&&a(t).keydown(function(b){var g=a(b.target);
if(!(!d.searchOnEnter||13!==b.which||g.hasClass("add-group")||g.hasClass("add-rule")||g.hasClass("delete-group")||g.hasClass("delete-rule")||g.hasClass("fm-button")&&g.is("[id$=_query]")))return a(e+"_search").click(),!1;if(d.closeOnEscape&&27===b.which)return a("#"+v(m.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1});if(z)a(e+"_query").on("click",function(){a(".queryresult",b).toggle();return!1});void 0===d.stringResult&&(d.stringResult=d.multipleSearch);a(e+"_search").on("click",function(){var b=
{},g="",f,k=a(e);f=k.find(".input-elm");f.filter(":focus")&&(f=f.filter(":focus"));f.change();f=k.jqFilter("filterData");if(d.errorcheck&&(k[0].hideError(),d.showQuery||k.jqFilter("toSQLString"),k[0].p.error))return k[0].showError(),!1;if(d.stringResult||"local"===l.datatype){try{g=window.JSON&&window.JSON.stringify?JSON.stringify(f):xmlJsonClass.toJson(f,"","",!1)}catch(ba){}"string"===typeof g&&(b[d.sFilter]=g,u([d.sField,d.sValue,d.sOper],function(){b[this]=""}))}else d.multipleSearch?(b[d.sFilter]=
f,u([d.sField,d.sValue,d.sOper],function(){b[this]=""})):(b[d.sField]=f.rules[0].field,b[d.sValue]=f.rules[0].data,b[d.sOper]=f.rules[0].op,b[d.sFilter]="");a.extend(l.postData,b);ia.call(c,d.onSearch,"jqGridFilterSearch",l.filters)&&(l.search=!0,q.trigger("reloadGrid",[a.extend({page:1},d.reloadGridSearchOptions||{})]));d.closeAfterSearch&&L();return!1});a(e+"_reset").on("click",function(){var g={},f=a(e);l.search=!1;l.resetsearch=!0;!1===d.multipleSearch?g[d.sField]=g[d.sValue]=g[d.sOper]="":g[d.sFilter]=
"";f[0].resetFilter();C&&a(".ui-template",b).val("default");a.extend(l.postData,g);ia.call(c,d.onReset,"jqGridFilterReset")&&q.trigger("reloadGrid",[a.extend({page:1},d.reloadGridResetOptions||{})]);d.closeAfterReset&&L();return!1});S(a(e));var E=P.call(c,"hover");a(".fm-button:not(."+P.call(c,"disabled").split(" ").join(".")+")",b).hover(function(){a(this).addClass(E)},function(){a(this).removeClass(E)})}}})},editGridRow:function(n,S){return this.each(function(){function c(){a(C+" > tbody > tr > td .FormElement").each(function(){var y=
a(".customelement",this),d=this.name;if(y.length){if(d=y.attr("name"),y=aa[d],void 0!==y&&(y=E[y],y=y.editoptions||{},a.isFunction(y.custom_value))){try{if(k[d]=y.custom_value.call(g,a("#"+v(d),C),"get"),void 0===k[d])throw"e1";}catch(oa){"e1"===oa?p.info_dialog.call(g,ga,"function 'custom_value' "+b.msg.novalue,b.bClose):p.info_dialog.call(g,ga,oa.message,b.bClose)}return!0}}else switch(y=a(this)[0].type,y){case "checkbox":k[d]=a(this).is(":checked")?a(this).val():a(this).data("offval");break;case "select-one":k[d]=
a("option:selected",this).val();break;case "select-multiple":k[d]=a(this).val();k[d]=k[d]?k[d].join(","):"";a("option:selected",this).each(function(b,d){a(d).text()});break;case "date":k[d]=a(this).val();3===String(k[d]).split("-").length&&(y=aa[d],void 0!==y&&(y=E[y],y=y.formatoptions||{},y=y.newformat||K.call(f,"formatter.date.newformat"),k[d]=p.parseDate.call(f[0],"Y-m-d",k[d],y)));break;default:void 0!==y&&0>a.inArray(y,b.skipPostTypes)&&(k[d]=a(this).val())}});return!0}function q(d,e){var y,
k=0,c,T,D,m;if(b.checkOnSubmit||b.checkOnUpdate)b._savedData={},b._savedData[r+"_id"]=d;var l=u.colModel;if("_empty"===d)a(l).each(function(){y=this.name;T=a.extend({},this.editoptions||{});(c=a("#"+v(y),e))&&c.length&&null!==c[0]&&(D="","custom"===this.edittype&&a.isFunction(T.custom_value)?T.custom_value.call(g,c,"set",D):T.defaultValue?(D=a.isFunction(T.defaultValue)?T.defaultValue.call(g):T.defaultValue,"checkbox"===c[0].type?(m=D.toLowerCase(),0>m.search(/(false|f|0|no|n|off|undefined)/i)&&""!==
m?(c[0].checked=!0,c[0].defaultChecked=!0,c[0].value=D):(c[0].checked=!1,c[0].defaultChecked=!1)):c.val(D)):"checkbox"===c[0].type?(c[0].checked=!1,c[0].defaultChecked=!1,D=a(c).data("offval")):c[0].type&&"select"===c[0].type.substr(0,6)?c[0].selectedIndex=0:c.val(D),!0===b.checkOnSubmit||b.checkOnUpdate)&&(b._savedData[y]=D)}),a("#id_g",e).val(d);else{var q=A.getInd.call(f,d,!0);q&&(a(q.cells).filter("td[role=gridcell]").each(function(f){var c;y=l[f].name;if("cb"!==y&&"subgrid"!==y&&"rn"!==y&&!0===
l[f].editable){try{c=a.unformat.call(g,a(this),{rowId:d,colModel:l[f]},f)}catch(ja){c="textarea"===l[f].edittype?a(this).text():a(this).html()}u.autoEncodeOnEdit&&(c=p.oldDecodePostedData(c));if(!0===b.checkOnSubmit||b.checkOnUpdate)b._savedData[y]=c;y="#"+v(y);switch(l[f].edittype){case "password":case "text":case "button":case "image":case "textarea":ea(c)&&(c="");a(y,e).val(c);break;case "select":var T=c.split(","),T=a.map(T,function(b){return a.trim(b)});a(y+" option",e).each(function(){var b=
a(this),d=a.trim(b.val()),b=a.trim(b.text());l[f].editoptions.multiple||a.trim(c)!==b&&T[0]!==b&&T[0]!==d?l[f].editoptions.multiple?-1<a.inArray(b,T)||-1<a.inArray(d,T)?this.selected=!0:this.selected=!1:this.selected=!1:this.selected=!0});break;case "checkbox":c=String(c);l[f].editoptions&&l[f].editoptions.value?c=l[f].editoptions.value.split(":")[0]===c:(c=c.toLowerCase(),c=0>c.search(/(false|f|0|no|n|off|undefined)/i)&&""!==c);a(y,e).prop({checked:c,defaultChecked:c});break;case "custom":try{if(l[f].editoptions&&
a.isFunction(l[f].editoptions.custom_value))l[f].editoptions.custom_value.call(g,a(y,e),"set",c);else throw"e1";}catch(ja){"e1"===ja?p.info_dialog.call(g,ga,"function 'custom_value' "+b.msg.nodefined,b.bClose):p.info_dialog.call(g,ga,ja.message,b.bClose)}}k++}}),0<k&&a("#id_g",C).val(d))}}function l(){var d=b.url||u.editurl;a.each(E,function(b,y){var c=y.name,e=k[c];"date"!==y.formatter||null!=y.formatoptions&&!0===y.formatoptions.sendFormatted||(k[c]=a.unformat.date.call(g,e,y));"clientArray"!==
d&&y.editoptions&&!0===y.editoptions.NullIfEmpty&&k.hasOwnProperty(c)&&""===e&&(k[c]="null")})}function d(){var d=[!0,"",""],c=d,e={},D=u.prmNames,m,x,h,v,t,N,B=A.getInd.call(f,n),J=!1===B?null:g.rows[B];(N=f.triggerHandler("jqGridAddEditBeforeCheckValues",[a(z),H]))&&"object"===typeof N&&(k=N);B=!1===B?-1:B;a.isFunction(b.beforeCheckValues)&&(N=b.beforeCheckValues.call(g,k,a(z),H))&&"object"===typeof N&&(k=N);for(h in k)if(k.hasOwnProperty(h)){N=u.iColByName[h];c=p.checkValues.call(g,k[h],h,void 0,
void 0,{oldValue:"_empty"===n?null:A.getCell.call(f,n,N),newValue:k[h],cmName:h,rowid:n,cm:E[N],iCol:N,iRow:B,tr:J,td:null==J?null:J.cells[N],mode:"_empty"===n?"addForm":"editForm"});if(null==c||!0===c)c=d;if(!1===c[0])break}l();if(c[0]){e=f.triggerHandler("jqGridAddEditClickSubmit",[b,k,H]);void 0===e&&a.isFunction(b.onclickSubmit)&&(e=b.onclickSubmit.call(g,b,k,H)||{});c=f.triggerHandler("jqGridAddEditBeforeSubmit",[k,a(z),H]);if(null==c||!0===c)c=d;c[0]&&a.isFunction(b.beforeSubmit)&&(c=b.beforeSubmit.call(g,
k,a(z),H),null==c||!0===c)&&(c=d)}if(c[0]&&!b.processing){b.processing=!0;a("#sData",w).addClass(pa);h=b.url||u.editurl;x=D.oper;m="clientArray"===h&&!1!==u.keyName?u.keyName:D.id;k[x]="_empty"===a.trim(k[r+"_id"])?D.addoper:D.editoper;k[x]!==D.addoper?k[m]=k[r+"_id"]:void 0===k[m]&&(k[m]=k[r+"_id"]);delete k[r+"_id"];k=a.extend(k,b.editData,e);if(!0===u.treeGrid)for(t in k[x]===D.addoper&&(v=u.selrow,k["adjacency"===u.treeGridModel?u.treeReader.parent_id_field:"parent_id"]=v),u.treeReader)u.treeReader.hasOwnProperty(t)&&
(e=u.treeReader[t],!k.hasOwnProperty(e)||k[x]===D.addoper&&"parent_id_field"===t||delete k[e]);k[m]=p.stripPref(u.idPrefix,k[m]);u.autoEncodeOnEdit&&a.each(k,function(b,c){a.isFunction(c)||(k[b]=p.oldEncodePostedData(c))});t=a.extend({url:a.isFunction(h)?h.call(g,k[m],H,k,b):h,type:a.isFunction(b.mtype)?b.mtype.call(g,H,b,k[m],k):b.mtype,data:p.serializeFeedback.call(g,a.isFunction(b.serializeEditData)?b.serializeEditData:u.serializeEditData,"jqGridAddEditSerializeEditData",k),complete:function(e,
y){f.jqGrid("progressBar",{method:"hide",loadtype:b.saveui});a("#sData",w).removeClass(pa);k[m]=a("#id_g",C).val();if(300<=e.status&&304!==e.status||0===e.status&&4===e.readyState)c[0]=!1,c[1]=f.triggerHandler("jqGridAddEditErrorTextFormat",[e,H]),a.isFunction(b.errorTextFormat)?c[1]=b.errorTextFormat.call(g,e,H):c[1]=y+" Status: '"+e.statusText+"'. Error code: "+e.status;else{c=f.triggerHandler("jqGridAddEditAfterSubmit",[e,k,H]);if(null==c||!0===c)c=d;c[0]&&a.isFunction(b.afterSubmit)&&(c=b.afterSubmit.call(g,
e,k,H),null==c||!0===c)&&(c=d)}if(!1===c[0])a("#FormError>td",C).html(c[1]),a("#FormError",C).show();else{u.autoEncodeOnEdit&&a.each(k,function(a,b){k[a]=p.oldDecodePostedData(b)});var l=[a.extend({},b.reloadGridOptions||{})];k[x]===D.addoper?(c[2]||(c[2]=p.randId()),null==k[m]||"_empty"===k[m]||k[x]===D.addoper?k[m]=c[2]:c[2]=k[m],b.reloadAfterSubmit?f.trigger("reloadGrid",l):!0===u.treeGrid?A.addChildNode.call(f,c[2],v,k):A.addRowData.call(f,c[2],k,b.addedrow),b.closeAfterAdd?(!0!==u.treeGrid&&
L.call(f,c[2]),M()):b.clearAfterAdd&&q("_empty",z)):(b.reloadAfterSubmit?(f.trigger("reloadGrid",l),b.closeAfterEdit||setTimeout(function(){L.call(f,k[m])},1E3)):!0===u.treeGrid?A.setTreeRow.call(f,k[m],k):A.setRowData.call(f,k[m],k),b.closeAfterEdit&&M());if(a.isFunction(b.afterComplete)){var h=e;setTimeout(function(){f.triggerHandler("jqGridAddEditAfterComplete",[h,k,a(z),H]);b.afterComplete.call(g,h,k,a(z),H);h=null},50)}if(b.checkOnSubmit||b.checkOnUpdate)if(a(z).data("disabled",!1),"_empty"!==
b._savedData[r+"_id"])for(var n in b._savedData)b._savedData.hasOwnProperty(n)&&k[n]&&(b._savedData[n]=k[n])}b.processing=!1;try{a(":input:visible",z).focus()}catch(ta){}}},p.ajaxOptions,b.ajaxEditOptions);t.url||b.useDataProxy||(a.isFunction(u.dataProxy)?b.useDataProxy=!0:(c[0]=!1,c[1]+=" "+p.errors.nourl));c[0]&&(f.jqGrid("progressBar",{method:"show",loadtype:b.saveui,htmlcontent:b.savetext}),b.useDataProxy?(e=u.dataProxy.call(g,t,"set_"+r),void 0===e&&(e=[!0,""]),!1===e[0]?(c[0]=!1,c[1]=e[1]||
"Error deleting the selected row!"):(t.data.oper===D.addoper&&b.closeAfterAdd&&M(),t.data.oper===D.editoper&&b.closeAfterEdit&&M())):"clientArray"===t.url?(b.reloadAfterSubmit=!1,k=t.data,t.complete({status:200,statusText:""},"")):a.ajax(t))}!1===c[0]&&(a("#FormError>td",C).html(c[1]),a("#FormError",C).show())}function e(a,b){var c=!1,d;for(d in a)if(a.hasOwnProperty(d)&&String(a[d])!==String(b[d])){c=!0;break}return c}function h(){var d=!0;a("#FormError",C).hide();b.checkOnUpdate&&(k={},c(),ba=e(k,
b._savedData))&&(a(z).data("disabled",!0),a(".confirm",x).show(),d=!1);return d}function m(b,c){var d=c[1].length-1;0===b?a("#pData",w).addClass(W):void 0!==c[1][b-1]&&U(a("#"+v(c[1][b-1])),W)?a("#pData",w).addClass(W):a("#pData",w).removeClass(W);b===d?a("#nData",w).addClass(W):void 0!==c[1][b+1]&&U(a("#"+v(c[1][b+1])),W)?a("#nData",w).addClass(W):a("#nData",w).removeClass(W)}function t(){var b=A.getDataIDs.call(f),c=a("#id_g",C).val();return[a.inArray(c,b),b]}var g=this,f=a(g),u=g.p;if(g.grid&&
null!=u&&n){var r=u.id,K=A.getGridRes,L=A.setSelection,b=a.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",
savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:B.call(this,"overlay"),removemodal:!0,skipPostTypes:["image","file"],saveui:"enable",savetext:K.call(f,"defaults.savetext")||"Saving..."},K.call(f,"edit"),p.edit,u.formEditing||{},S||{}),z="FrmGrid_"+r,G=z,F="TblGrid_"+r,C="#"+v(F),w=C+"_2",I={themodal:"editmod"+r,modalhead:"edithd"+r,modalcontent:"editcnt"+r,resizeAlso:z},
x="#"+v(I.themodal),J=u.gBox,E=u.colModel,aa=u.iColByName,Q=1,V=0,k,ba,H,D=b.commonIconClass,M=function(){p.hideModal(x,{gb:J,jqm:b.jqModal,onClose:b.onClose,removemodal:b.removemodal})},ga=K.call(f,"errors.errcap"),Z=function(){var c=a.makeArray(arguments);c.unshift("");c.unshift("AddEdit");c.unshift(b);return fa.apply(g,c)},qa=P.call(g,"hover"),W=P.call(g,"disabled"),ra=P.call(g,"select"),pa=P.call(g,"active"),X=P.call(g,"error");a(x).remove();z="#"+v(z);"new"===n?(n="_empty",H="add",b.caption=
b.addCaption):(b.caption=b.editCaption,H="edit");var Y=!0;!b.checkOnUpdate||!0!==b.jqModal&&void 0!==b.jqModal||b.modal||(Y=!1);var N=isNaN(b.dataheight)?b.dataheight:b.dataheight+"px",ca=isNaN(b.datawidth)?b.datawidth:b.datawidth+"px",G=a("<form name='FormPost' id='"+G+"' class='FormGrid' onSubmit='return false;' style='width:"+ca+";overflow:auto;position:relative;height:"+N+";'></form>").data("disabled",!1),ha=a("<table id='"+F+"' class='EditTable'><tbody></tbody></table>");a(E).each(function(){var a=
this.formoptions;Q=Math.max(Q,a?a.colpos||0:0);V=Math.max(V,a?a.rowpos||0:0)});a(G).append(ha);X=a("<tr id='FormError' style='display:none'><td class='"+X+"' colspan='"+2*Q+"'>&#160;</td></tr>");X[0].rp=0;a(ha).append(X);X=a("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*Q+"'>"+(b.topinfo||"&#160;")+"</td></tr>");X[0].rp=0;a(ha).append(X);if(Z("beforeInitData",G,H)){(function(){var b=p.detectRowEditing.call(g,n);if(null!=b)if("inlineEditing"===b.mode)A.restoreRow.call(f,
n);else{var b=b.savedRow,c=g.rows[b.id];A.restoreCell.call(f,b.id,b.ic);a(c.cells[b.ic]).removeClass("edit-cell "+ra);a(c).addClass(ra).attr({"aria-selected":"true",tabindex:"0"})}})();N=(X="rtl"===u.direction?!0:!1)?"nData":"pData";ca=X?"pData":"nData";(function(c,d,e){var k=0,y=[],D=!1,m=a(d),l="";for(d=1;d<=e;d++)l+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";"_empty"!==c&&(D=A.getInd.call(f,c));a(E).each(function(d){var f=this.name,h,q,n,x,t;h=this.editable;var w=!1,N=!1;
t="_empty"===c?"addForm":"editForm";a.isFunction(h)&&(h=h.call(g,{rowid:c,iCol:d,iRow:D,cmName:f,cm:this,mode:t}));q=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden||"hidden"===h?!0:!1;switch(String(h).toLowerCase()){case "hidden":h=!0;break;case "disabled":w=h=!0;break;case "readonly":N=h=!0}if("cb"!==f&&"subgrid"!==f&&!0===h&&"rn"!==f){if(!1===D)x="";else{h=a(g.rows[D].cells[d]);try{x=a.unformat.call(g,h,{rowId:c,colModel:this},d)}catch(ua){x=this.edittype&&"textarea"===this.edittype?
h.text():h.html()}ea(x)&&(x="")}h=a.extend({},this.editoptions||{},{id:f,name:f,rowId:c,mode:t,cm:this,iCol:d});var M=a.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),r=parseInt(M.rowpos,10)||k+1,A=parseInt(2*(parseInt(M.colpos,10)||1),10);"_empty"===c&&h.defaultValue&&(x=a.isFunction(h.defaultValue)?h.defaultValue.call(g):h.defaultValue);this.edittype||(this.edittype="text");u.autoEncodeOnEdit&&(x=p.oldDecodePostedData(x));t=p.createEl.call(g,this.edittype,
h,x,!1,a.extend({},p.ajaxOptions,u.ajaxSelectOptions||{}));if(b.checkOnSubmit||b.checkOnUpdate)b._savedData[f]=x;a(t).addClass("FormElement");-1<a.inArray(this.edittype,["text","textarea","checkbox","password","select"])&&a(t).addClass(B.call(g,"dialog.dataField"));n=m.find("tr[data-rowpos="+r+"]");if(M.rowabove){var J=a("<tr><td class='contentinfo' colspan='"+2*e+"'>"+M.rowcontent+"</td></tr>");m.append(J);J[0].rp=r}0===n.length&&(n=a("<tr data-rowpos='"+r+"'></tr>").addClass("FormData").attr("id",
"tr_"+f),a(n).append(l),m.append(n),n[0].rp=r);r=a("td:eq("+(A-2)+")",n[0]);n=a("td:eq("+(A-1)+")",n[0]);r.html(void 0===M.label?u.colNames[d]:M.label||"&#160;");n[ea(n.html())?"html":"append"](M.elmprefix).append(t).append(M.elmsuffix);w?(r.addClass(W),n.addClass(W),a(t).prop("readonly",!0),a(t).prop("disabled",!0)):N&&a(t).prop("readonly",!0);"custom"===this.edittype&&a.isFunction(h.custom_value)&&h.custom_value.call(g,a("#"+v(f),z),"set",x);p.bindEv.call(g,t,h);q&&r.add(n).css("visibility","hidden");
y[k]=d;k++}});na(m);0<k&&(d=a("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*e-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+r+"_id' value='"+c+"'/></td></tr>"),d[0].rp=k+999,m.append(d),b.checkOnSubmit||b.checkOnUpdate)&&(b._savedData[r+"_id"]=c);return y})(n,ha,Q);var N=O.call(g,N,"",R(D,b.prevIcon),"","left"),ca=O.call(g,ca,"",R(D,b.nextIcon),"","right"),ka=O.call(g,"sData",b.bSubmit),la=O.call(g,"cData",b.bCancel),
F="<div class='"+B.call(g,"dialog.footer")+"'><table class='EditTable' id='"+F+"_2'><tbody><tr><td colspan='2'><hr class='"+B.call(g,"dialog.hr")+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton navButton-"+u.direction+"'>"+(X?ca+N:N+ca)+"</td><td class='EditButton EditButton-"+u.direction+"'>"+ka+"&#160;"+la+"</td></tr>",F=F+("<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+(b.bottominfo||"&#160;")+"</td></tr>"),F=F+"</tbody></table></div>";if(0<
V){var ma=[];a.each(a(ha)[0].rows,function(a,b){ma[a]=b});ma.sort(function(a,b){return a.rp>b.rp?1:a.rp<b.rp?-1:0});a.each(ma,function(b,c){a("tbody",ha).append(c)})}b.gbox=J;var sa=!1;!0===b.closeOnEscape&&(b.closeOnEscape=!1,sa=!0);F=a("<div></div>").append(a("<div class='"+B.call(g,"dialog.body")+"'></div>").append(G)).append(F);p.createModal.call(g,I,F,b,u.gView,a(J)[0]);b.topinfo&&a(".tinfo",C).show();b.bottominfo&&a(".binfo",w).show();F=F=null;a(x).keydown(function(c){var d=(c.target.tagName||
"").toUpperCase(),e,f;if(!0===a(z).data("disabled"))return!1;if(13===c.which&&"TEXTAREA"!==d){e=a(w).find(":focus");f=e.attr("id");if(0<e.length&&0<=a.inArray(f,["pData","nData","cData"]))return e.trigger("click"),!1;if(!0===b.savekey[0]&&13===b.savekey[1])return a("#sData",w).trigger("click"),!1}if(!0===b.savekey[0]&&c.which===b.savekey[1]&&"TEXTAREA"!==d)return a("#sData",w).trigger("click"),!1;if(27===c.which){if(!h())return!1;sa&&M();return!1}if(!0===b.navkeys[0]){if("_empty"===a("#id_g",C).val())return!0;
if(c.which===b.navkeys[1])return a("#pData",w).trigger("click"),!1;if(c.which===b.navkeys[2])return a("#nData",w).trigger("click"),!1}});b.checkOnUpdate&&(a("a.ui-jqdialog-titlebar-close span",x).removeClass("jqmClose"),a("a.ui-jqdialog-titlebar-close",x).off("click").click(function(){if(!h())return!1;M();return!1}));da(a("#sData",w),b.saveicon,D);da(a("#cData",w),b.closeicon,D);if(b.checkOnSubmit||b.checkOnUpdate)ka=O.call(g,"sNew",b.bYes),ca=O.call(g,"nNew",b.bNo),la=O.call(g,"cNew",b.bExit),I=
b.zIndex||999,I++,a("<div class='"+b.overlayClass+" jqgrid-overlay confirm' style='z-index:"+I+";display:none;'>&#160;</div><div class='"+B.call(g,"dialog.content","confirm ui-jqconfirm")+"' style='z-index:"+(I+1)+"'>"+b.saveData+"<br/><br/>"+ka+ca+la+"</div>").insertAfter(z),a("#sNew",x).click(function(){d();a(z).data("disabled",!1);a(".confirm",x).hide();return!1}),a("#nNew",x).click(function(){a(".confirm",x).hide();a(z).data("disabled",!1);setTimeout(function(){a(":input:visible",z).focus()},
0);return!1}),a("#cNew",x).click(function(){a(".confirm",x).hide();a(z).data("disabled",!1);M();return!1});Z("onInitializeForm",a(z),H);"_empty"!==n&&b.viewPagerButtons?a("#pData,#nData",w).show():a("#pData,#nData",w).hide();Z("beforeShowForm",a(z),H);a(x).data("onClose",b.onClose);p.viewModal.call(g,x,{gbox:J,jqm:b.jqModal,overlay:b.overlay,modal:b.modal,overlayClass:b.overlayClass,toTop:b.toTop,onHide:function(a){a.w.remove();a.o&&a.o.remove()}});Y||a("."+v(b.overlayClass)).click(function(){if(!h())return!1;
M();return!1});a(".fm-button",x).hover(function(){a(this).addClass(qa)},function(){a(this).removeClass(qa)});a("#sData",w).click(function(){k={};a("#FormError",C).hide();c();"_empty"===k[r+"_id"]?d():!0===b.checkOnSubmit?(ba=e(k,b._savedData))?(a(z).data("disabled",!0),a(".confirm",x).show()):d():d();return!1});a("#cData",w).click(function(){if(!h())return!1;M();return!1});a("#nData",w).click(function(){if(!h())return!1;a("#FormError",C).hide();var b=t();b[0]=parseInt(b[0],10);if(-1!==b[0]&&b[1][b[0]+
1]){if(!Z("onclickPgButtons","next",a(z),b[1][b[0]]))return!1;q(b[1][b[0]+1],z);L.call(f,b[1][b[0]+1]);Z("afterclickPgButtons","next",a(z),b[1][b[0]+1]);m(b[0]+1,b)}return!1});a("#pData",w).click(function(){if(!h())return!1;a("#FormError",C).hide();var b=t();if(-1!==b[0]&&b[1][b[0]-1]){if(!Z("onclickPgButtons","prev",a(z),b[1][b[0]])||U(a("#"+v(b[1][b[0]-1])),W))return!1;q(b[1][b[0]-1],z);L.call(f,b[1][b[0]-1]);Z("afterclickPgButtons","prev",a(z),b[1][b[0]-1]);m(b[0]-1,b)}return!1});Z("afterShowForm",
a(z),H);Y=t();m(Y[0],Y)}}})},viewGridRow:function(n,S){return this.each(function(){function c(){!0!==g.closeOnEscape&&!0!==g.navkeys[0]||setTimeout(function(){a("#cData").focus()},0)}function q(b){var c,d=0,f=A.getInd.call(h,b,!0),g;f&&(a("td",f).each(function(b){g=F[b];c=g.name;"cb"!==c&&"subgrid"!==c&&"rn"!==c&&(c=v("v_"+c),a("#"+c+" span",u).html(p.getDataFieldOfCell.call(e,f,b).html()),d++)}),0<d&&a("#id_g",u).val(b))}function l(b,c){var d=c[1].length-1;0===b?a("#pData",r).addClass(E):void 0!==
c[1][b-1]&&U(a("#"+v(c[1][b-1])),E)?a("#pData",r).addClass(E):a("#pData",r).removeClass(E);b===d?a("#nData",r).addClass(E):void 0!==c[1][b+1]&&U(a("#"+v(c[1][b+1])),E)?a("#nData",r).addClass(E):a("#nData",r).removeClass(E)}function d(){var b=A.getDataIDs.call(h),c=a("#id_g",u).val();return[a.inArray(c,b),b]}var e=this,h=a(e),m=e.p;if(e.grid&&null!=m&&n){var t=m.id,g=a.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,closeOnEscape:!1,labelswidth:"",
navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,removemodal:!0},A.getGridRes.call(h,"view"),p.view||{},m.formViewing||{},S||{}),f="#ViewGrid_"+v(t),u="#ViewTbl_"+v(t),r=u+"_2",K="ViewGrid_"+t,L="ViewTbl_"+t,b=g.commonIconClass,t={themodal:"viewmod"+t,modalhead:"viewhd"+t,modalcontent:"viewcnt"+t,resizeAlso:K},z="#"+v(t.themodal),G=m.gBox,F=m.colModel,C=1,w=0,I=function(){var b=a.makeArray(arguments);b.unshift("");b.unshift("View");b.unshift(g);return fa.apply(e,
b)},x=function(){p.hideModal(z,{gb:G,jqm:g.jqModal,onClose:g.onClose,removemodal:g.removemodal})},J=P.call(e,"hover"),E=P.call(e,"disabled"),aa=isNaN(g.dataheight)?g.dataheight:g.dataheight+"px",Q=isNaN(g.datawidth)?g.datawidth:g.datawidth+"px",K=a("<div class='"+B.call(e,"dialog.body")+"'><form name='FormPost' id='"+K+"' class='FormGrid' style='width:"+Q+";overflow:auto;position:relative;height:"+aa+";'></form></div>"),aa=K.children("form.FormGrid"),V=a("<table id='"+L+"' class='EditTable'><tbody></tbody></table>");
a(z).remove();a(F).each(function(){var a=this.formoptions;C=Math.max(C,a?a.colpos||0:0);w=Math.max(w,a?a.rowpos||0:0)});aa.append(V);if(I("beforeInitData",aa)){(function(b,c,d){var f,k,l,n=0,D,x=[],q=A.getInd.call(h,b),t=B.call(e,"dialog.viewData"),u=a(c),v=B.call(e,"dialog.viewLabel");c=String(g.labelswidth)+(!g.labelswidth||isNaN(g.labelswidth)?"":"px");var r="<td class='"+B.call(e,"dialog.viewCellLabel","CaptionTD form-view-label")+(c?"' style='width:"+c+";":"")+"'>&#160;</td><td class='"+B.call(e,
"dialog.viewCellData","DataTD form-view-data")+"'>&#160;</td>",w="",z=["integer","number","currency"],J=0,y=0,E,C,M;for(c=0;c<d;c++)w+=r;a(F).each(function(){(k=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)||"right"!==this.align||(this.formatter&&-1!==a.inArray(this.formatter,z)?J=Math.max(J,parseInt(this.width,10)):y=Math.max(y,parseInt(this.width,10)))});E=0!==J?J:0!==y?y:0;a(F).each(function(b){f=this.name;C=!1;k=this.editrules&&!0===this.editrules.edithidden?!1:!0===
this.hidden?!0:!1;M="boolean"!==typeof this.viewable?!0:this.viewable;if("cb"!==f&&"subgrid"!==f&&"rn"!==f&&M){D=!1===q?"":p.getDataFieldOfCell.call(e,e.rows[q],b).html();C="right"===this.align&&0!==E?!0:!1;var c=a.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),g=parseInt(c.rowpos,10)||n+1,h=parseInt(2*(parseInt(c.colpos,10)||1),10);if(c.rowabove){var r=a("<tr><td class='contentinfo' colspan='"+2*d+"'>"+c.rowcontent+"</td></tr>");u.append(r);r[0].rp=g}l=u.find("tr[data-rowpos="+g+"]");
0===l.length&&(l=a("<tr data-rowpos='"+g+"'></tr>").addClass("FormData").attr("id","trv_"+f),l.append(w),u.append(l),l[0].rp=g);c=void 0===c.label?m.colNames[b]:c.label;g=a("td:eq("+(h-1)+")",l[0]);r=a("td:eq("+(h-2)+")",l[0]);r.html("<label for='"+f+"'"+(v?" class='"+v+"'>":">")+(c||"&nbsp;")+"</label>");g[ea(g.html())?"html":"append"]("<span id='"+f+"'"+(t?" class='"+t+"'>":">")+(D||"&nbsp;")+"</span>").attr("id","v_"+f);C&&a("td:eq("+(h-1)+") span",l[0]).css({"text-align":"right",width:E+"px"});
k&&r.add(g).css("visibility","hidden");x[n]=b;n++}});na(u);0<n&&(b=a("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*d-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+b+"'/></td></tr>"),b[0].rp=n+99,u.append(b));return x})(n,V,C);var k=(aa="rtl"===m.direction?!0:!1)?"pData":"nData",Q=O.call(e,aa?"nData":"pData","",R(b,g.prevIcon),"","left"),k=O.call(e,k,"",R(b,g.nextIcon),"","right"),ba=O.call(e,"cData",g.bClose);
if(0<w){var H=[];a.each(a(V)[0].rows,function(a,b){H[a]=b});H.sort(function(a,b){return a.rp>b.rp?1:a.rp<b.rp?-1:0});a.each(H,function(b,c){a("tbody",V).append(c)})}g.gbox=G;L=a("<div></div>").append(K).append("<div class='"+B.call(e,"dialog.footer")+"'><table border='0' class='EditTable' id='"+L+"_2'><tbody><tr id='Act_Buttons'><td class='navButton navButton-"+m.direction+"' width='"+(g.labelswidth||"auto")+"'>"+(aa?k+Q:Q+k)+"</td><td class='EditButton EditButton-"+m.direction+"'>"+ba+"</td></tr></tbody></table></div>");
p.createModal.call(e,t,L,g,m.gView,a(m.gView)[0]);g.viewPagerButtons||a("#pData, #nData",r).hide();L=null;a(z).keydown(function(b){var c,d;if(!0===a(f).data("disabled"))return!1;if(13===b.which&&(c=a(r).find(":focus"),d=c.attr("id"),0<c.length&&0<=a.inArray(d,["pData","nData","cData"])))return c.trigger("click"),!1;if(27===b.which)return g.closeOnEscape&&x(),!1;if(!0===g.navkeys[0]){if(b.which===g.navkeys[1])return a("#pData",r).trigger("click"),!1;if(b.which===g.navkeys[2])return a("#nData",r).trigger("click"),
!1}});da(a("#cData",r),g.closeicon,b);I("beforeShowForm",a(f));p.viewModal.call(e,z,{gbox:G,jqm:g.jqModal,overlay:g.overlay,toTop:g.toTop,modal:g.modal,onHide:function(a){a.w.remove();a.o&&a.o.remove()}});a(".fm-button:not(."+E.split(" ").join(".")+")",r).hover(function(){a(this).addClass(J)},function(){a(this).removeClass(J)});c();a("#cData",r).click(function(){x();return!1});a("#nData",r).click(function(){a("#FormError",u).hide();var b=d();b[0]=parseInt(b[0],10);if(-1!==b[0]&&b[1][b[0]+1]){if(!I("onclickPgButtons",
"next",a(f),b[1][b[0]]))return!1;q(b[1][b[0]+1]);A.setSelection.call(h,b[1][b[0]+1]);I("afterclickPgButtons","next",a(f),b[1][b[0]+1]);l(b[0]+1,b)}c();return!1});a("#pData",r).click(function(){a("#FormError",u).hide();var b=d();if(-1!==b[0]&&b[1][b[0]-1]){if(!I("onclickPgButtons","prev",a(f),b[1][b[0]]))return!1;q(b[1][b[0]-1]);A.setSelection.call(h,b[1][b[0]-1]);I("afterclickPgButtons","prev",a(f),b[1][b[0]-1]);l(b[0]-1,b)}c();return!1});b=d();l(b[0],b)}}})},delGridRow:function(n,S){return this.each(function(){var c=
this,q=c.p,l=a(c);if(c.grid&&null!=q&&n){var d=q.id,e=a.extend(!0,{top:0,left:0,width:240,removemodal:!0,height:"auto",dataheight:"auto",datawidth:"auto",drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,closeOnEscape:!1,delData:{},onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},A.getGridRes.call(l,"del"),p.del||{},q.formDeleting||{},S||{}),
h="DelTbl_"+d,m="#DelTbl_"+v(d),t,g,f,u,r={themodal:"delmod"+d,modalhead:"delhd"+d,modalcontent:"delcnt"+d,resizeAlso:h},K="#"+v(r.themodal),L=q.gBox,b=e.commonIconClass,z=function(){var b=a.makeArray(arguments);b.unshift("");b.unshift("Delete");b.unshift(e);return fa.apply(c,b)},G=P.call(c,"hover"),F=P.call(c,"active"),C=P.call(c,"error");a.isArray(n)||(n=[String(n)]);if(void 0!==a(K)[0]){if(!z("beforeInitData",a(m)))return;a("#DelData>td",m).text(n.join()).data("rowids",n);a("#DelError",m).hide();
!0===e.processing&&(e.processing=!1,a("#dData",m).removeClass(F));z("beforeShowForm",a(m));p.viewModal.call(c,K,{gbox:L,jqm:e.jqModal,jqM:!1,overlay:e.overlay,toTop:e.toTop,modal:e.modal})}else{var w=isNaN(e.dataheight)?e.dataheight:e.dataheight+"px",I=isNaN(e.datawidth)?e.datawidth:e.datawidth+"px",w="<div class='"+B.call(c,"dialog.body")+"'><div id='"+h+"' class='formdata' style='width:"+I+";overflow:auto;position:relative;height:"+w+";'>",w=w+"<table class='DelTable'><tbody>"+("<tr id='DelError' style='display:none'><td class='"+
C+"'></td></tr>")+("<tr id='DelData' style='display:none'><td >"+n.join()+"</td></tr>"),w=w+("<tr><td class='delmsg'>"+e.msg+"</td></tr>"),w=w+"</tbody></table></div></div>",C=O.call(c,"dData",e.bSubmit),I=O.call(c,"eData",e.bCancel),w=w+("<div class='"+B.call(c,"dialog.footer")+"'><table class='EditTable' id='"+h+"_2'><tbody><tr><td><hr class='"+B.call(c,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton EditButton-"+q.direction+"'>"+C+"&#160;"+I+"</td></tr></tbody></table></div>");
e.gbox=L;p.createModal.call(c,r,w,e,q.gView,a(q.gView)[0]);a("#DelData>td",m).data("rowids",n);if(!z("beforeInitData",a(w)))return;a(".fm-button",m+"_2").hover(function(){a(this).addClass(G)},function(){a(this).removeClass(G)});da(a("#dData",m+"_2"),e.delicon,b);da(a("#eData",m+"_2"),e.cancelicon,b);a("#dData",m+"_2").click(function(){var b=[!0,""],h,n=a("#DelData>td",m),r=n.text(),v=n.data("rowids"),n={};a.isFunction(e.onclickSubmit)&&(n=e.onclickSubmit.call(c,e,r)||{});a.isFunction(e.beforeSubmit)&&
(b=e.beforeSubmit.call(c,r)||b);if(b[0]&&!e.processing){e.processing=!0;f=q.prmNames;t=a.extend({},e.delData,n);u=f.oper;t[u]=f.deloper;g=f.id;r=v.slice();if(!r.length)return!1;for(h in r)r.hasOwnProperty(h)&&(r[h]=p.stripPref(q.idPrefix,r[h]));t[g]=r.join();a(this).addClass(F);h=e.url||q.editurl;h=a.extend({url:a.isFunction(h)?h.call(c,t[g],t,e):h,type:e.mtype,data:a.isFunction(e.serializeDelData)?e.serializeDelData.call(c,t):t,complete:function(d,f){var g;a("#dData",m+"_2").removeClass(F);300<=
d.status&&304!==d.status||0===d.status&&4===d.readyState?(b[0]=!1,a.isFunction(e.errorTextFormat)?b[1]=e.errorTextFormat.call(c,d):b[1]=f+" Status: '"+d.statusText+"'. Error code: "+d.status):a.isFunction(e.afterSubmit)&&(b=e.afterSubmit.call(c,d,t)||[!0]);if(!1===b[0])a("#DelError>td",m).html(b[1]),a("#DelError",m).show();else{if("local"===q.datatype||!0===q.treeGrid||!e.reloadAfterSubmit)if(!0===q.treeGrid)try{A.delTreeNode.call(l,v[0])}catch(H){}else for(v=v.slice(),g=0;g<v.length;g++)A.delRowData.call(l,
v[g]);e.reloadAfterSubmit&&l.trigger("reloadGrid",[a.extend({},e.reloadGridOptions||{})]);setTimeout(function(){z("afterComplete",d,r,a(m))},50)}e.processing=!1;b[0]&&p.hideModal(K,{gb:L,jqm:e.jqModal,onClose:e.onClose,removemodal:e.removemodal})}},p.ajaxOptions,e.ajaxDelOptions);h.url||e.useDataProxy||(a.isFunction(q.dataProxy)?e.useDataProxy=!0:(b[0]=!1,b[1]+=" "+p.errors.nourl));b[0]&&(e.useDataProxy?(h=q.dataProxy.call(c,h,"del_"+d),void 0===h&&(h=[!0,""]),!1===h[0]?(b[0]=!1,b[1]=h[1]||"Error deleting the selected row!"):
p.hideModal(K,{gb:L,jqm:e.jqModal,onClose:e.onClose,removemodal:e.removemodal})):"clientArray"===h.url?(t=h.data,h.complete({status:200,statusText:""},"")):a.ajax(h))}!1===b[0]&&(a("#DelError>td",m).html(b[1]),a("#DelError",m).show());return!1});a("#eData",m+"_2").click(function(){p.hideModal(K,{gb:L,jqm:e.jqModal,onClose:e.onClose,removemodal:e.removemodal});return!1});z("beforeShowForm",a(m));p.viewModal.call(c,K,{gbox:L,jqm:e.jqModal,overlay:e.overlay,toTop:e.toTop,modal:e.modal})}z("afterShowForm",
a(m));!0===e.closeOnEscape&&setTimeout(function(){a(".ui-jqdialog-titlebar-close","#"+v(r.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(n,S,c,q,l,d,e){"object"===typeof n&&(e=d,d=l,l=q,q=c,c=S,S=n,n=void 0);q=q||{};c=c||{};e=e||{};l=l||{};d=d||{};return this.each(function(){var h=this,m=h.p,t=a(h);if(h.grid&&null!=m&&!(h.nav&&0<a(n).find(".navtable").length)){var g=m.id,f=a.extend({edit:!0,add:!0,del:!0,search:!0,refresh:!0,refreshstate:"firstpage",view:!1,closeOnEscape:!0,beforeRefresh:null,
afterRefresh:null,cloneToTop:!1,hideEmptyPagerParts:!0,alertwidth:200,alertheight:"auto",alerttop:null,removemodal:!0,alertleft:null,alertzIndex:null,iconsOverText:!1},A.getGridRes.call(t,"nav"),p.nav||{},m.navOptions||{},S||{});f.position=f.position||("rtl"===m.direction?"right":"left");var u,r=m.idSel,K=m.gBox,L=f.commonIconClass,b={themodal:"alertmod_"+g,modalhead:"alerthd_"+g,modalcontent:"alertcnt_"+g},z=function(){return function(){var c=document.documentElement,d=window,e=1024,g=768,k=t.closest(".ui-jqgrid").offset();
void 0===a("#"+v(b.themodal))[0]&&(f.alerttop||f.alertleft||(void 0!==d.innerWidth?(e=d.innerWidth,g=d.innerHeight):null!=c&&void 0!==c.clientWidth&&0!==c.clientWidth&&(e=c.clientWidth,g=c.clientHeight),e=e/2-parseInt(f.alertwidth,10)/2-k.left,g=g/2-25-k.top),p.createModal.call(h,b,"<div class='"+B.call(h,"dialog.body")+"'><div>"+f.alerttext+"</div></div>",{gbox:K,jqModal:f.jqModal,drag:!0,resize:!0,caption:f.alertcap,top:null!=f.alerttop?f.alerttop:g,left:null!=f.alertleft?f.alertleft:e,width:f.alertwidth,
height:f.alertheight,closeOnEscape:f.closeOnEscape,zIndex:f.alertzIndex,removemodal:f.removemodal},m.gView,a(K)[0],!1));p.viewModal.call(h,"#"+v(b.themodal),{gbox:K,toTop:f.alertToTop,jqm:f.jqModal});var l=a("#"+v(b.modalhead)).find(".ui-jqdialog-titlebar-close");l.attr({tabindex:"0",href:"#",role:"button"});setTimeout(function(){l.focus()},50)}}(),G,F=function(b){if(13===b.which&&(b=a(this).find(".ui-pg-button").filter(":focus"),0<b.length)){var c=b[0].id,c=c.substr(0,0<a(this).closest(".ui-jqgrid-toppager").length?
c.length-g.length-5:c.length-g.length-1)+"mod"+m.id,d=a(".ui-jqdialog").filter(":visible").map(function(){return this.id});if(0>a.inArray(c,d))return b.trigger("click"),!1}},C=P.call(h,"hover"),w=P.call(h,"disabled"),I=B.call(h,"navButton","ui-pg-button");if(h.grid){h.modalAlert=z;void 0===n&&(m.pager?(n=m.pager,m.toppager&&(f.cloneToTop=!0)):m.toppager&&(n=m.toppager));var x=1,J,E,O,Q,V,k,ba=["left","center","right"],H="<div class='"+B.call(h,"navButton","ui-pg-button "+P.call(h,"disabled"))+"'><span class='ui-separator'></span></div>",
D=function(){U(this,w)||a(this).addClass(C)},M=function(){a(this).removeClass(C)},ga=function(){U(this,w)||(a.isFunction(f.addfunc)?f.addfunc.call(h,q):A.editGridRow.call(t,"new",q));return!1},Z=function(b,c,d){if(!U(this,w)){var e=m.selrow;e?a.isFunction(b)?b.call(h,e,d):A[c].call(t,e,d):z()}return!1},da=function(){return Z.call(this,f.editfunc,"editGridRow",c)},W=function(){return Z.call(this,f.viewfunc,"viewGridRow",e)},ea=function(){var b;U(this,w)||(m.multiselect?(b=m.selarrrow,0===b.length&&
(b=null)):b=m.selrow,b?a.isFunction(f.delfunc)?f.delfunc.call(h,b,l):A.delGridRow.call(t,b,l):z());return!1},fa=function(){U(this,w)||(a.isFunction(f.searchfunc)?f.searchfunc.call(h,d):A.searchGrid.call(t,d));return!1},X=function(){if(!U(this,w)){a.isFunction(f.beforeRefresh)&&f.beforeRefresh.call(h);m.search=!1;m.resetsearch=!0;try{if("currentfilter"!==f.refreshstate){m.postData.filters="";try{a("#fbox_"+r).jqFilter("resetFilter")}catch(N){}a.isFunction(h.clearToolbar)&&h.clearToolbar(!1)}}catch(N){}switch(f.refreshstate){case "firstpage":t.trigger("reloadGrid",
[a.extend({},f.reloadGridOptions||{},{page:1})]);break;case "current":case "currentfilter":t.trigger("reloadGrid",[a.extend({},f.reloadGridOptions||{},{current:!0})])}a.isFunction(f.afterRefresh)&&f.afterRefresh.call(h)}return!1},Y=function(b,c,d){var e=a("<div class='"+I+"' tabindex='0' role='button'></div>"),g=f[b+"icon"],h=a.trim(f[b+"text"]);e.append("<div class='ui-pg-div'><span class='"+(f.iconsOverText?R("ui-pg-button-icon-over-text",L,g):R(L,g))+"'></span>"+(h?"<span class='ui-pg-button-text"+
(f.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+h+"</span>":"")+"</div>");a(G).append(e);e.attr({title:f[b+"title"]||"",id:c||b+"_"+O}).click(d).hover(D,M);return e};f.cloneToTop&&m.toppager&&(x=2);for(J=0;J<x;J++){G=a("<div class='ui-pg-table navtable' role='toolbar' style='float:"+("rtl"===m.direction?"right":"left")+";table-layout:auto;'></div>");0===J?(E=n,O=g,E===m.toppager&&(O+="_top",x=1)):(E=m.toppager,O=g+"_top");f.add&&Y("add",q.id,ga);f.edit&&Y("edit",c.id,da);f.view&&Y("view",
e.id,W);f.del&&Y("del",l.id,ea);(f.add||f.edit||f.del||f.view)&&a(G).append(H);f.search&&(u=Y("search",d.id,fa),d.showOnLoad&&!0===d.showOnLoad&&a(u,G).click());f.refresh&&Y("refresh","",X);u=a(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px";a("body").append("<div id='testpg2' class='"+B.call(h,"gBox","ui-jqgrid")+"' style='font-size:"+u+";visibility:hidden;' ></div>");u=a(G).clone().appendTo("#testpg2").width();a("#testpg2").remove();a(E+"_"+f.position,E).append(G);if(f.hideEmptyPagerParts)for(Q=
0;Q<ba.length;Q++)ba[Q]!==f.position&&(k=a(E+"_"+ba[Q],E),0===k.length||0===k[0].childNodes.length?k.hide():1===k[0].childNodes.length&&(V=k[0].firstChild,!a(V).is("table.ui-pg-table")||0!==V.rows&&0!==V.rows[0].cells.length||k.hide()));m._nvtd&&(u>m._nvtd[0]&&(a(E+"_"+f.position,E).width(u),m._nvtd[0]=u),m._nvtd[1]=u);h.nav=!0;G.on("keydown.jqGrid",F)}t.triggerHandler("jqGridResetFrozenHeights")}}})},navButtonAdd:function(n,S){"object"===typeof n&&(S=n,n=void 0);return this.each(function(){var c=
this,q=c.p;if(c.grid){var l=a.extend({caption:"newButton",title:"",onClickButton:null,position:"last",iconsOverText:!1},A.getGridRes.call(a(c),"nav"),p.nav||{},q.navOptions||{},S||{}),d=l.id,e=P.call(c,"hover"),h=P.call(c,"disabled"),m=B.call(c,"navButton","ui-pg-button");if(void 0===n)if(q.pager)if(A.navButtonAdd.call(a(c),q.pager,l),q.toppager)n=q.toppager,d&&(d+="_top");else return;else q.toppager&&(n=q.toppager);"string"===typeof n&&0!==n.indexOf("#")&&(n="#"+v(n));var q=a(".navtable",n),t=l.commonIconClass;
if(0<q.length&&!(d&&0<q.find("#"+v(d)).length)){var g=a("<div tabindex='0' role='button'></div>");"NONE"===l.buttonicon.toString().toUpperCase()?a(g).addClass(m).append("<div class='ui-pg-div'>"+(l.caption?"<span class='ui-pg-button-text"+(l.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+l.caption+"</span>":"")+"</div>"):a(g).addClass(m).append("<div class='ui-pg-div'><span class='"+(l.iconsOverText?R("ui-pg-button-icon-over-text",t,l.buttonicon):R(t,l.buttonicon))+"'></span>"+(l.caption?"<span class='ui-pg-button-text"+
(l.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+l.caption+"</span>":"")+"</div>");d&&a(g).attr("id",d);"first"===l.position&&0<q.children("div.ui-pg-button").length?q.children("div.ui-pg-button").first().before(g):q.append(g);a(g,q).attr("title",l.title||"").click(function(d){U(this,h)||a.isFunction(l.onClickButton)&&l.onClickButton.call(c,l,d);return!1}).hover(function(){U(this,h)||a(this).addClass(e)},function(){a(this).removeClass(e)});a(c).triggerHandler("jqGridResetFrozenHeights")}}})},
navSeparatorAdd:function(n,p){p=a.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},p||{});return this.each(function(){if(this.grid){var c=this.p,q=B.call(this,"navButton","ui-pg-button "+P.call(this,"disabled"));if(void 0===n)if(c.pager)if(A.navSeparatorAdd.call(a(this),c.pager,p),c.toppager)n=c.toppager;else return;else c.toppager&&(n=c.toppager);"string"===typeof n&&0!==n.indexOf("#")&&(n="#"+v(n));c=a(".navtable",n);0<c.length&&(q="<div class='"+q+"'><span class='"+p.sepclass+"'></span>"+
p.sepcontent+"</div>","first"===p.position?0===c.children("div.ui-pg-button").length?c.append(q):c.children("div.ui-pg-button").first().before(q):c.append(q))}})},GridToForm:function(n,p){return this.each(function(){var c,q,l,d;if(this.grid){var e=A.getRowData.call(a(this),n);if(e)for(c in e)if(e.hasOwnProperty(c))if(q=a("[name="+v(c)+"]",p),q.is("input:radio")||q.is("input:checkbox"))for(l=0;l<q.length;l++)d=a(q[l]),d.prop("checked",d.val()===String(e[c]));else q.val(ea(e[c])?"":e[c])}})},FormToGrid:function(n,
p,c,q){return this.each(function(){if(this.grid){c||(c="set");q||(q="first");var l=a(p).serializeArray(),d={};a.each(l,function(a,c){d[c.name]=c.value});"add"===c?A.addRowData.call(a(this),n,d,q):"set"===c&&A.setRowData.call(a(this),n,d)}})}})});
//# sourceMappingURL=grid.formedit.map
