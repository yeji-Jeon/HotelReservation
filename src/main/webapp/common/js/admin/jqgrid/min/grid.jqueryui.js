var $jscomp={scope:{},findInternal:function(a,m,h){a instanceof String&&(a=String(a));for(var p=a.length,t=0;t<p;t++){var A=a[t];if(m.call(h,A,t,a))return{i:t,v:A}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,m,h){if(h.get||h.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[m]=h.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,m,h,p){if(m){h=$jscomp.global;a=a.split(".");for(p=0;p<a.length-1;p++){var t=a[p];t in h||(h[t]={});h=h[t]}a=a[a.length-1];p=h[a];m=m(p);m!=p&&null!=m&&$jscomp.defineProperty(h,a,{configurable:!0,writable:!0,value:m})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,h){return $jscomp.findInternal(this,a,h).v}},"es6-impl","es3");
(function(a){"function"===typeof define&&define.amd?define("jquery ./grid.base free-jqgrid-plugins/ui.multiselect jquery-ui/dialog jquery-ui/draggable jquery-ui/droppable jquery-ui/resizable jquery-ui/sortable".split(" "),a):"object"===typeof module&&module.exports?module.exports=function(m,h){m||(m=window);void 0===h&&(h="undefined"!==typeof window?require("jquery"):require("jquery")(m));require("./grid.base");require("free-jqgrid-plugins/ui.multiselect");require("jquery-ui/dialog");require("jquery-ui/draggable");
require("jquery-ui/droppable");require("jquery-ui/resizable");require("jquery-ui/sortable");a(h);return h}:a(jQuery)})(function(a){var m=a.jgrid,h=m.jqID,p=null!=a.ui?a.ui.multiselect:null,t=function(b){if(null!=this.grid&&null!=this.grid.p){var r=this,e=this.grid.p,g,c,l,k,d=this.gh,f=this.selectedList,n=this.inGroup,q=f.find("li"),u=q.length-1,h=function(b,c,d){var e,k=f.find("li");for(void 0===c&&(c=d?k.length-1:0);d?0<=c:c<k.length;d?c--:c++)if((e=a(k[c]).data("optionLink"))&&b.call(k[c],parseInt(e.val(),
10),c))return c},m=function(){c=a.inArray(e.colModel[b].name,r.newColOrder);0<=c&&r.newColOrder.splice(c,1);q=f.find("li");g=0;h(function(c,d){if(c===b){for(u=d;0<=g&&g<e.colModel.length&&(e.colModel[g].hidden||e.colModel[g].hidedlg)&&null!=n&&n[g]===n[b];)g++;r.newColOrder.splice(g,0,e.colModel[b].name);return!0}g=a.inArray(e.colModel[c].name,r.newColOrder,g);0>g&&(g=a.inArray(e.colModel[c].name,r.newColOrder));g++})},p=function(c){if(n[c]===n[b])return a(this).after(q[u]),m(),!0},t=function(c){if(n[c]===
n[b])return a(this).before(q[u]),m(),!0},w=function(a){if(n[a]===n[b]&&void 0!==n[a])return d[n[a]].startColumnName=e.colModel[a].name,!0};m();if(d&&void 0!==d[n[b]])for(k=d[n[b]],c=0;c<k.numberOfColumns;c++){if(g=e.iColByName[k.startColumnName]+c,!e.colModel[g].hidden&&!e.colModel[g].hidedlg){h(p,u-1,!0);h(t,u+1);h(w);break}}else!d||(q=f.find("li"),c=h(function(a){if(a===b)return!0}),c+1>=q.length||0>c||!(k=a(q[c+1]).data("optionLink")))||(l=n[parseInt(k.val(),10)],void 0!==l&&(k=a(q[c-1]).data("optionLink"))&&
n[parseInt(k.val(),10)]===l&&(k=h(function(a){if(n[a]!==l)return!0},c+1),a(q[void 0===k||k>=q.length?q.length-1:k-1]).after(q[u]),m()))}};m.msie&&8===m.msiever()&&(a.expr[":"].hidden=function(a){return 0===a.offsetWidth||0===a.offsetHeight||"none"===a.style.display});m._multiselect=!1;if(p){if(p.prototype._setSelected){var A=p.prototype._setSelected;p.prototype._setSelected=function(b,h){var e=A.call(this,b,h),g=this.element,c=parseInt(b.data("optionLink").val(),10);h&&this.selectedList&&(t.call(this,
c),this.selectedList.find("li").each(function(){a(this).data("optionLink")&&a(this).data("optionLink").remove().appendTo(g)}));return e}}p.prototype.destroy&&(p.prototype.destroy=function(){this.element.show();this.container.remove();void 0===a.Widget?a.widget.prototype.destroy.apply(this,arguments):a.Widget.prototype.destroy.apply(this,arguments)});m._multiselect=!0}m.extend({sortableColumns:function(b){return this.each(function(){function m(){g.disableClick=!0}var e=this,g=e.p,c=h(g.id);if(g&&g.sortable&&
a.isFunction(a.fn.sortable)){c={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+c+"_cb,#jqgh_"+c+"_rn,#jqgh_"+c+"_subgrid),:hidden)",placeholder:{element:function(b){return a(document.createElement(b[0].nodeName)).addClass(b[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(a,b){b.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||
0,10));b.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}},start:function(){e.grid.hDiv.scrollLeft=e.grid.bDiv.scrollLeft},update:function(b,c){var d=a(">th",a(c.item).parent()),k=g.id+"_",l=[];d.each(function(){var b=a(">div",this).get(0).id.replace(/^jqgh_/,"").replace(k,""),b=g.iColByName[b];void 0!==b&&l.push(b)});a(e).jqGrid("remapColumns",l,!0,!0);a.isFunction(g.sortable.update)&&g.sortable.update(l);setTimeout(function(){g.disableClick=
!1},50)}};g.sortable.options?a.extend(c,g.sortable.options):a.isFunction(g.sortable)&&(g.sortable={update:g.sortable});if(c.start){var l=c.start;c.start=function(a,b){m();l.call(this,a,b)}}else c.start=m;g.sortable.exclude&&(c.items+=":not("+g.sortable.exclude+")");c=b.sortable(c);c=c.data("sortable")||c.data("uiSortable")||c.data("ui-sortable");null!=c&&(c.floating=!0)}})},columnChooser:function(b){function r(b,c){b&&("string"===typeof b?a.fn[b]&&a.fn[b].apply(c,a.makeArray(arguments).slice(2)):
a.isFunction(b)&&b.apply(c,a.makeArray(arguments).slice(2)))}var e=this,g=e[0],c=g.p,l,k,d,f,n,q=c.colModel,u=q.length,v=c.colNames,B=function(a){return p&&p.prototype&&a.data(p.prototype.widgetFullName||p.prototype.widgetName)||a.data("ui-multiselect")||a.data("multiselect")};if(!a("#colchooser_"+h(c.id)).length){l=a('<div id="colchooser_'+c.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>');k=a("select",l);b=a.extend({width:400,height:240,classname:null,
done:function(a){a&&e.jqGrid("remapColumns",a,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(b){var c={};c[b.bSubmit]=function(){b.apply_perm();b.cleanup(!1)};c[b.bCancel]=function(){b.cleanup(!0)};return a.extend(!0,{buttons:c,close:function(){b.cleanup(!0)},modal:b.modal||!1,resizable:b.resizable||!0,width:b.width+70,resize:function(){var a=B(k),b=a.container.closest(".ui-dialog-content");0<b.length&&"object"===typeof b[0].style?b[0].style.width=
"":b.css("width","");a.selectedList.height(Math.max(a.selectedContainer.height()-a.selectedActions.outerHeight()-1,1));a.availableList.height(Math.max(a.availableContainer.height()-a.availableActions.outerHeight()-1,1))}},b.dialog_opts||{})},apply_perm:function(){var d=Array(c.colModel.length),l,g={notSkipFrozen:void 0===b.notSkipFrozen?!1:b.notSkipFrozen,skipSetGridWidth:!0,skipSetGroupHeaders:!0};for(l=0;l<c.colModel.length;l++)d[l]=c.iColByName[f.newColOrder[l]];a("option",k).each(function(){a(this).is(":selected")?
e.jqGrid("showCol",q[this.value].name,g):e.jqGrid("hideCol",q[this.value].name,g)});b.done&&b.done.call(e,d);if(c.groupHeader&&("object"===typeof c.groupHeader||a.isFunction(c.groupHeader)))if(e.jqGrid("destroyGroupHeader",!1),c.groupHeader.groupHeaders=f.gh,null!=c.pivotOptions&&null!=c.pivotOptions.colHeaders&&1<c.pivotOptions.colHeaders.length)for(d=c.pivotOptions.colHeaders,l=0;l<d.length;l++)d[l]&&d[l].groupHeaders.length&&e.jqGrid("setGroupHeaders",d[l]);else e.jqGrid("setGroupHeaders",c.groupHeader);
l=c.autowidth||void 0!==c.widthOrg&&"auto"!==c.widthOrg&&"100%"!==c.widthOrg?c.width:c.tblwidth;l!==c.width&&e.jqGrid("setGridWidth",l,c.shrinkToFit)},cleanup:function(a){r(b.dlog,l,"destroy");r(b.msel,k,"destroy");l.remove();a&&b.done&&b.done.call(e)},msel_opts:{}},e.jqGrid("getGridRes","col"),m.col,b||{});if(a.ui&&p&&p.defaults){if(!m._multiselect){(null!=m.defaults&&a.isFunction(m.defaults.fatalError)?m.defaults.fatalError:alert)("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");
return}b.msel_opts=a.extend(p.defaults,b.msel_opts)}b.caption&&l.attr("title",b.caption);b.classname&&(l.addClass(b.classname),k.addClass(b.classname));b.width&&(a(">div",l).css({width:b.width,margin:"0 auto"}),k.css("width",b.width));b.height&&(a(">div",l).css("height",b.height),k.css("height",b.height-10));k.empty();n=null!=c.groupHeader?c.groupHeader.groupHeaders:0;var y={},z,w,x;if(n)for(z=0;z<n.length;z++)for(x=n[z],w=0;w<x.numberOfColumns;w++)d=c.iColByName[x.startColumnName]+w,y[d]=a.isFunction(b.buildItemText)?
b.buildItemText.call(e[0],{iCol:d,cm:q[d],cmName:q[d].name,colName:v[d],groupTitleText:x.titleText}):a.jgrid.stripHtml(x.titleText)+": "+a.jgrid.stripHtml(""===v[d]?q[d].name:v[d]);for(d=0;d<u;d++)void 0===y[d]&&(y[d]=a.isFunction(b.buildItemText)?b.buildItemText.call(e[0],{iCol:d,cm:q[d],cmName:q[d].name,colName:v[d],groupTitleText:null}):a.jgrid.stripHtml(v[d]));a.each(q,function(a){this.hidedlg||k.append("<option value='"+a+"'"+(c.headertitles||this.headerTitle?" title='"+m.stripHtml("string"===
typeof this.headerTitle?this.headerTitle:y[a])+"'":"")+(this.hidden?"":" selected='selected'")+">"+y[a]+"</option>")});d=a.isFunction(b.dlog_opts)?b.dlog_opts.call(e,b):b.dlog_opts;r(b.dlog,l,d);d=a.isFunction(b.msel_opts)?b.msel_opts.call(e,b):b.msel_opts;r(b.msel,k,d);d=a("#colchooser_"+h(c.id));d.css({margin:"auto"});d.find(">div").css({width:"100%",height:"100%",margin:"auto"});if(f=B(k)){f.grid=g;if(n)for(f.gh=a.extend(!0,[],n),f.inGroup=Array(c.colModel.length),u=0;u<n.length;u++)for(v=n[u],
d=0;d<v.numberOfColumns;d++)f.inGroup[c.iColByName[v.startColumnName]+d]=u;f.newColOrder=a.map(q,function(a){return a.name});f.container.css({width:"100%",height:"100%",margin:"auto"});f.selectedContainer.css({width:100*f.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"});f.availableContainer.css({width:100-100*f.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"});f.selectedList.css("height","auto");f.availableList.css("height","auto");n=
Math.max(f.selectedList.height(),f.availableList.height());n=Math.min(n,a(window).height());f.selectedList.css("height",n);f.availableList.css("height",n);if(null!=f.options&&f.options.sortable)f.selectedList.on("sortupdate",function(c,d){t.call(f,parseInt(d.item.data("optionLink").val(),10));d.item.css({width:"",height:""});a.isFunction(b.sortUpdate)&&b.sortUpdate.call(g,c,d)});a.isFunction(b.init)&&b.init.call(g,f)}}},sortableRows:function(b){return this.each(function(){var h=this,e=h.grid,g=h.p;
e&&!g.treeGrid&&a.fn.sortable&&(b=a.extend({cursor:"move",axis:"y",items:">tbody>.jqgrow"},b||{}),b.start&&a.isFunction(b.start)?(b._start_=b.start,delete b.start):b._start_=!1,b.update&&a.isFunction(b.update)?(b._update_=b.update,delete b.update):b._update_=!1,b.start=function(c,l){a(l.item).css("border-width","0");a("td",l.item).each(function(a){this.style.width=e.cols[a].style.width});if(g.subGrid){var k=a(l.item).attr("id");try{a(h).jqGrid("collapseSubGridRow",k)}catch(d){}}b._start_&&b._start_.apply(this,
[c,l])},b.update=function(c,l){a(l.item).css("border-width","");!0===g.rownumbers&&a("td.jqgrid-rownum",h.rows).each(function(b){a(this).html(b+1+(parseInt(g.page,10)-1)*parseInt(g.rowNum,10))});b._update_&&b._update_.apply(this,[c,l])},a(h).sortable(b))})},gridDnD:function(b){return this.each(function(){function m(){var b=a.data(e,"dnd");a("tr.jqgrow:not(.ui-draggable)",e).draggable(a.isFunction(b.drag)?b.drag.call(a(e),b):b.drag)}var e=this,g,c;if(e.grid&&!e.p.treeGrid&&a.fn.draggable&&a.fn.droppable)if(void 0===
a("#jqgrid_dnd")[0]&&a("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"===typeof b&&"updateDnD"===b&&!0===e.p.jqgdnd)m();else if(b=a.extend({drag:function(b){return a.extend({start:function(c,d){var f;if(e.p.subGrid){f=a(d.helper).attr("id");try{a(e).jqGrid("collapseSubGridRow",f)}catch(n){}}for(f=0;f<a.data(e,"dnd").connectWith.length;f++)0===a(a.data(e,"dnd").connectWith[f]).jqGrid("getGridParam","reccount")&&a(a.data(e,"dnd").connectWith[f]).jqGrid("addRowData",
"jqg_empty_row",{});d.helper.addClass("ui-state-highlight");a("td",d.helper).each(function(a){this.style.width=e.grid.headers[a].width+"px"});b.onstart&&a.isFunction(b.onstart)&&b.onstart.call(a(e),c,d)},stop:function(c,d){var f;d.helper.dropped&&!b.dragcopy&&(f=a(d.helper).attr("id"),void 0===f&&(f=a(this).attr("id")),a(e).jqGrid("delRowData",f));for(f=0;f<a.data(e,"dnd").connectWith.length;f++)a(a.data(e,"dnd").connectWith[f]).jqGrid("delRowData","jqg_empty_row");b.onstop&&a.isFunction(b.onstop)&&
b.onstop.call(a(e),c,d)}},b.drag_opts||{})},drop:function(b){return a.extend({accept:function(b){if(!a(b).hasClass("jqgrow"))return b;b=a(b).closest("table.ui-jqgrid-btable");return 0<b.length&&void 0!==a.data(b[0],"dnd")?(b=a.data(b[0],"dnd").connectWith,-1!==a.inArray("#"+h(this.id),b)?!0:!1):!1},drop:function(c,d){if(a(d.draggable).hasClass("jqgrow")){var f=a(d.draggable).attr("id"),f=d.draggable.parent().parent().jqGrid("getRowData",f);if(!b.dropbyname){var g=0,l={},k,m,p=a("#"+h(this.id)).jqGrid("getGridParam",
"colModel");try{for(m in f)f.hasOwnProperty(m)&&(k=p[g].name,"cb"!==k&&"rn"!==k&&"subgrid"!==k&&f.hasOwnProperty(m)&&p[g]&&(l[k]=f[m]),g++);f=l}catch(z){}}d.helper.dropped=!0;b.beforedrop&&a.isFunction(b.beforedrop)&&(k=b.beforedrop.call(this,c,d,f,a("#"+h(e.p.id)),a(this)),void 0!==k&&null!==k&&"object"===typeof k&&(f=k));if(d.helper.dropped){var r;b.autoid&&(a.isFunction(b.autoid)?r=b.autoid.call(this,f):(r=Math.ceil(1E3*Math.random()),r=b.autoidprefix+r));a("#"+h(this.id)).jqGrid("addRowData",
r,f,b.droppos);f[e.p.localReader.id]=r}b.ondrop&&a.isFunction(b.ondrop)&&b.ondrop.call(this,c,d,f)}}},b.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5E3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},b||{}),b.connectWith)for(b.connectWith=b.connectWith.split(","),b.connectWith=a.map(b.connectWith,function(b){return a.trim(b)}),a.data(e,"dnd",b),0===
e.p.reccount||e.p.jqgdnd||m(),e.p.jqgdnd=!0,g=0;g<b.connectWith.length;g++)c=b.connectWith[g],a(c).droppable(a.isFunction(b.drop)?b.drop.call(a(e),b):b.drop)})},gridResize:function(b){return this.each(function(){var h=this,e=h.grid,g=h.p,c=g.gView+">.ui-jqgrid-bdiv",l=!1,k,d=g.height;if(e&&a.fn.resizable){b=a.extend({},b||{});b.alsoResize?(b._alsoResize_=b.alsoResize,delete b.alsoResize):b._alsoResize_=!1;b.stop&&a.isFunction(b.stop)?(b._stop_=b.stop,delete b.stop):b._stop_=!1;b.stop=function(f,m){a(h).jqGrid("setGridWidth",
m.size.width,b.shrinkToFit);a(g.gView+">.ui-jqgrid-titlebar").css("width","");l?(a(k).each(function(){a(this).css("height","")}),"auto"!==d&&"100%"!==d||a(e.bDiv).css("height",d)):a(h).jqGrid("setGridParam",{height:a(c).height()});h.fixScrollOffsetAndhBoxPadding&&h.fixScrollOffsetAndhBoxPadding();b._stop_&&b._stop_.call(h,f,m)};k=c;"auto"!==d&&"100%"!==d||void 0!==b.handles||(b.handles="e,w");if(b.handles){var f=a.map(String(b.handles).split(","),function(b){return a.trim(b)});2===f.length&&("e"===
f[0]&&"w"===f[1]||"e"===f[1]&&"w"===f[1])&&(k=g.gView+">div:not(.frozen-div)",l=!0,g.pager&&(k+=","+g.pager))}b.alsoResize=b._alsoResize_?k+","+b._alsoResize_:k;delete b._alsoResize_;a(g.gBox).resizable(b)}})}})});
//# sourceMappingURL=grid.jqueryui.map
