



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.5.5">
    
    
      
        <title>Grouping - Guriddo jqGrid JS</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.aa3de92b.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#grouping" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Guriddo jqGrid JS" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Guriddo jqGrid JS
              </span>
              <span class="md-header-nav__topic">
                Grouping
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Guriddo jqGrid JS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../basic-grid/" title="Basic Grid" class="md-nav__link">
      Basic Grid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../common-functions/" title="Common Functions" class="md-nav__link">
      Common Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../navigating/" title="Navigation" class="md-nav__link">
      Navigation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../formatters/" title="Formatters" class="md-nav__link">
      Formatters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../searching/" title="Searching" class="md-nav__link">
      Searching
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../editing/" title="Editing" class="md-nav__link">
      Editing
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Grouping
      </label>
    
    <a href="./" title="Grouping" class="md-nav__link md-nav__link--active">
      Grouping
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#header-grouping" title="Header grouping" class="md-nav__link">
    Header grouping
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limitations" title="Limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-group-headers" title="Set group headers" class="md-nav__link">
    Set group headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroy-headers" title="Destroy headers" class="md-nav__link">
    Destroy headers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-grouping" title="Data grouping" class="md-nav__link">
    Data grouping
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limitations_1" title="Limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" title="Options" class="md-nav__link">
    Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#colmodel-options" title="colModel options" class="md-nav__link">
    colModel options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-methods" title="Group methods" class="md-nav__link">
    Group methods
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../frozencols/" title="Frozen Columns" class="md-nav__link">
      Frozen Columns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../colmenu/" title="Column menu" class="md-nav__link">
      Column menu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../persiststate/" title="Persist state" class="md-nav__link">
      Persist state
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exporting/" title="Exporting" class="md-nav__link">
      Exporting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../subgrid/" title="SubGrid" class="md-nav__link">
      SubGrid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../treegrid/" title="TreeGrid" class="md-nav__link">
      TreeGrid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pivotgrid/" title="PivotGrid" class="md-nav__link">
      PivotGrid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../multiselect/" title="Multiselection" class="md-nav__link">
      Multiselection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../integrations/" title="Integrations" class="md-nav__link">
      Integrations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/release-notes/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#header-grouping" title="Header grouping" class="md-nav__link">
    Header grouping
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limitations" title="Limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-group-headers" title="Set group headers" class="md-nav__link">
    Set group headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroy-headers" title="Destroy headers" class="md-nav__link">
    Destroy headers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-grouping" title="Data grouping" class="md-nav__link">
    Data grouping
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limitations_1" title="Limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" title="Options" class="md-nav__link">
    Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#colmodel-options" title="colModel options" class="md-nav__link">
    colModel options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-methods" title="Group methods" class="md-nav__link">
    Group methods
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="grouping"><div style='text-align:center'>Grouping</div><a class="headerlink" href="#grouping" title="Permanent link">&para;</a></h1>
<hr />
<p>Guriddo jqGrid support two type of grouping:</p>
<ul>
<li>Header grouping</li>
<li>Data grouping.</li>
</ul>
<p>These two types of grouping can be used independent and together and are used with success in <a href="../pivotgrid/">Pivot Grid</a>.</p>
<p>The code related to both types of grouping is in file: <em>grid.grouping.js</em></p>
<h2 id="header-grouping">Header grouping<a class="headerlink" href="#header-grouping" title="Permanent link">&para;</a></h2>
<p>Header grouping is a way to add additional columns above the header grid rows, so that they are grouped in a way you need them. Typical implementation can look like the picture below.</p>
<p><img alt="Screenshot" src="../../img/grouphead1.png" /></p>
<p>We support two types of grouping - with colSpan enabled and colSpan disabled.<br />
If the colSpan is disabled (the default) the headers that do not have grouping have a additional cell above it.<br />
If the colSpan is enabled there is no additional cell above the non-grouped column and it is considered as one column.</p>
<h3 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permanent link">&para;</a></h3>
<p>Currently header grouping has the following limitations:</p>
<ul>
<li>Sortable columns is not compatible with grouping when used together. Only one of these feature can be used, but not booth together</li>
<li>Column Chooser is not compatible with the header grouping</li>
</ul>
<h3 id="set-group-headers">Set group headers<a class="headerlink" href="#set-group-headers" title="Permanent link">&para;</a></h3>
<p>Grouping of the header should be used after the grid is created. For this purpose a method <em><strong>setGroupHeaders</strong></em> is used.</p>
<p>Typical implementation can look like this:</p>
<div class="codehilite"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#jqGrid&quot;</span><span class="p">).</span><span class="nx">jqGrid</span><span class="p">({</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;data.json&#39;</span><span class="p">,</span>
    <span class="nx">mtype</span><span class="o">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
    <span class="nx">datatype</span><span class="o">:</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span>
    <span class="nx">page</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">colModel</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>   
          <span class="nx">label</span> <span class="o">:</span> <span class="s2">&quot;Order ID&quot;</span><span class="p">,</span>
          <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;OrderID&#39;</span><span class="p">,</span>
          <span class="nx">key</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="p">},</span> <span class="p">{</span>
          <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Order Date&quot;</span><span class="p">,</span>
          <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;OrderDate&#39;</span><span class="p">,</span>
          <span class="nx">width</span><span class="o">:</span> <span class="mi">150</span><span class="p">,</span>
          <span class="p">},</span>                    
        <span class="p">},</span> <span class="p">{</span>
          <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Customer ID&quot;</span><span class="p">,</span>
          <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;CustomerID&#39;</span><span class="p">,</span>
        <span class="p">},{</span>
          <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Freight&quot;</span><span class="p">,</span>
          <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Freight&#39;</span>
        <span class="p">},{</span>
          <span class="nx">label</span> <span class="o">:</span> <span class="s2">&quot;Ship Name&quot;</span><span class="p">,</span>
          <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;ShipName&#39;</span><span class="p">,</span>
        <span class="p">},{</span>
          <span class="nx">label</span> <span class="o">:</span> <span class="s2">&quot;Ship City&quot;</span><span class="p">,</span>
          <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;ShipCity&#39;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="p">},{</span>
          <span class="nx">label</span> <span class="o">:</span> <span class="s2">&quot;Ship Country&quot;</span><span class="p">,</span>
          <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;ShipCountry&#39;</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="c1">//loadonce: true,</span>
    <span class="nx">viewrecords</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">width</span><span class="o">:</span> <span class="mi">780</span><span class="p">,</span>
    <span class="nx">height</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span>
    <span class="nx">rowNum</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nx">pager</span><span class="o">:</span> <span class="s2">&quot;#jqGridPager&quot;</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#jqGrid&quot;</span><span class="p">).</span><span class="nx">jqGrid</span><span class="p">(</span><span class="s1">&#39;setGroupHeaders&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">useColSpanStyle</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span>
  <span class="nx">groupHeaders</span> <span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s2">&quot;startColumnName&quot;</span><span class="o">:</span><span class="s1">&#39;OrderID&#39;</span><span class="p">,</span> <span class="s2">&quot;numberOfColumns&quot;</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;titleText&quot;</span><span class="o">:</span><span class="s1">&#39;Order Info&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s2">&quot;startColumnName&quot;</span><span class="o">:</span><span class="s1">&#39;ShipName&#39;</span><span class="p">,</span> <span class="s2">&quot;numberOfColumns&quot;</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;titleText&quot;</span><span class="o">:</span><span class="s1">&#39;Shipping Details&#39;</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">});</span>
</pre></div>


<p>The method <em><strong>setGroupHeaders</strong></em> creates the group of headers in the grid, after the creation of the grid.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The group headers options are stored as grid parameter. This grid parameters is called <em>groupHeader</em> and can be requested with <em><strong>getGridParam</strong></em> method after it is run and there is no call of <em><strong>destroyGroupHeader</strong></em> method (see below).</p>
</div>
<p>Calling convetions:</p>
<div class="codehilite"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#grid_id&quot;</span><span class="p">).</span><span class="nx">jqGrid</span><span class="p">(</span><span class="s1">&#39;setGroupHeaders&#39;</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">options</span> <span class="p">)</span>
</pre></div>


<p>Where the default properties of options are :</p>
<div class="codehilite"><pre><span></span><span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">useColSpanStyle</span> <span class="o">:</span>  <span class="kc">false</span><span class="p">,</span>
  <span class="nx">groupHeaders</span> <span class="o">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>


<p>and have the following meaning:</p>
<ul>
<li>useColSpanStyle   boolean - Determine if the non grouping header cell should be have cell above it - value of false, or the column should be treated as one combining boot - true</li>
<li>groupHeaders  - array-  set of object(s) which describes the header grouping texts and rules. Bellow is the list of the options of every element of this array<ul>
<li>startColumnName   - string - The name from colModel from which the grouping header begin, including the same field</li>
<li>numberOfColumns   - integer - The number of columns which are included for this group. Note that the number start from the startColumnName. If the column is hidden it is skipped and as result the group does not contain the field, but the method count it.</li>
<li>titleText - string -  The text for this group. The text can contain html tags</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The method can be called several times one after other and in this case the last called setGroupHeader will be put at first place (below the main grid header)  the before last above it and etc. In all cases the names from colModel should be used in startColumnName property.</p>
</div>
<p>Using the previous example if we change the useColSpanStyle to true we will obtain the following picture:</p>
<div class="codehilite"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#jqGrid&quot;</span><span class="p">).</span><span class="nx">jqGrid</span><span class="p">(</span><span class="s1">&#39;setGroupHeaders&#39;</span><span class="p">,</span> <span class="p">{</span>
 <span class="nx">useColSpanStyle</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
 <span class="nx">groupHeaders</span> <span class="o">:</span> <span class="p">[</span>
   <span class="p">{</span> <span class="s2">&quot;startColumnName&quot;</span><span class="o">:</span><span class="s1">&#39;OrderID&#39;</span><span class="p">,</span> <span class="s2">&quot;numberOfColumns&quot;</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;titleText&quot;</span><span class="o">:</span><span class="s1">&#39;Order Info&#39;</span> <span class="p">},</span>
   <span class="p">{</span> <span class="s2">&quot;startColumnName&quot;</span><span class="o">:</span><span class="s1">&#39;ShipName&#39;</span><span class="p">,</span> <span class="s2">&quot;numberOfColumns&quot;</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;titleText&quot;</span><span class="o">:</span><span class="s1">&#39;Shipping Details&#39;</span> <span class="p">}</span>
 <span class="p">]</span>
<span class="p">});</span>
</pre></div>


<p><img alt="Screenshot" src="../../img/grouphead2.png" /></p>
<h3 id="destroy-headers">Destroy headers<a class="headerlink" href="#destroy-headers" title="Permanent link">&para;</a></h3>
<p>To destroy group header call the <em><strong>destroyGroupHeader</strong></em> method. This method returns back the grid headers to its initial state.</p>
<p>Calling conventions</p>
<div class="codehilite"><pre><span></span><span class="p">...</span>
<span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;#grid_id&quot;</span><span class="p">).</span><span class="nx">jqGrid</span><span class="p">(</span><span class="s1">&#39;destroyGroupHeader&#39;</span><span class="p">,</span> <span class="kr">boolean</span> <span class="nx">keepOptions</span><span class="p">);</span>
<span class="p">...</span>
</pre></div>


<p>where<br />
- boolean keepOptions if set to false the group header(s) is removed, but the groupHeader option in grid is not empty and can be used later.</p>
<h2 id="data-grouping">Data grouping<a class="headerlink" href="#data-grouping" title="Permanent link">&para;</a></h2>
<p>Grouping is a way to group data by diffrent criteria. jqGrid support multiple level of grouping.</p>
<p>The simple way to group in jqGrid is to enable grouping with the grid option <em>grouping:true</em> and define a field name on which grouping occurs. The name should correspond to the name in colModel The definition is done with array groupField which is a part of another grid option <em>groupingView</em>.</p>
<p>It is important to note that if you want the grouping to be correct, then the data should come from server to the grid sorted by that field. When we are in local mode (the data is an array) the data is grouped (sorted) automatically so there is no need to define any additional sort column.</p>
<p>In order to inform the server that we want to have a grouped data, jqGrid add to the sidx parameter the groupField name on which we group and then the sortname parameter. This is done only if we have enabled the grouping and the data is remote.</p>
<div class="codehilite"><pre><span></span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;#grid_id&quot;</span><span class="p">).</span><span class="nx">jqGrid</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="nx">sortname</span> <span class="o">:</span> <span class="s1">&#39;invdate&#39;</span><span class="p">,</span>
  <span class="nx">sortorder</span> <span class="o">:</span> <span class="s1">&#39;desc&#39;</span><span class="p">,</span>
  <span class="nx">grouping</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
  <span class="nx">groupingView</span> <span class="o">:</span> <span class="p">{</span>
    <span class="nx">groupField</span> <span class="o">:</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
    <span class="nx">groupOrder</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;asc&#39;</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="nx">caption</span><span class="o">:</span> <span class="s2">&quot;Grouping&quot;</span>
  <span class="p">...</span>
<span class="p">});</span>
</pre></div>


<p>then the sidx and sord parameters will become:</p>
<div class="codehilite"><pre><span></span>sidx = name asc, invdate
sord = desc
</pre></div>


<p>As can be seen the grouped field(s) is set in the beginning of the string and the sortname parameter as last.</p>
<p>We should get this information from the request, perform the appropriate sorting server side and return the requested data to the grid. The grid then get the data and do the grouping adding the appropriate (defined) headers and footers.</p>
<h3 id="limitations_1">Limitations<a class="headerlink" href="#limitations_1" title="Permanent link">&para;</a></h3>
<p>When the grouping is enabled, the following options will be set explicit into the code:</p>
<ul>
<li>scroll = false;</li>
<li>rownumbers = false;</li>
<li>treeGrid = false;</li>
<li>gridview = true (afterInsertRow does not fire too);</li>
</ul>
<p>Please refer in <a href="../basic-grid/#options">grid options</a> for detailed information on these options.</p>
<h3 id="options">Options<a class="headerlink" href="#options" title="Permanent link">&para;</a></h3>
<p>All options in grouping are set as grid options and can be changed dynamically using the setGridParam method. Two options are related to grouping</p>
<ul>
<li>grouping</li>
<li>groupingView</li>
</ul>
<p>The first option grouping is Boolean and enables or disables the grouping feature into the grid. The default values of this option is false. To enable grouping set it to true - i.e <strong>grouping : true</strong></p>
<p>The <strong>groupingView</strong> option is actually a object and consist a lot of other options. Below is a example on how this should be used:</p>
<div class="codehilite"><pre><span></span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;#grid&quot;</span><span class="p">).</span><span class="nx">jqGrid</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="nx">groupingView</span> <span class="o">:</span> <span class="p">{</span>
     <span class="nx">groupField</span> <span class="o">:</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;invdate&#39;</span><span class="p">],</span>
     <span class="nx">groupOrder</span> <span class="o">:</span> <span class="p">[</span><span class="s1">&#39;asc&#39;</span><span class="p">,</span> <span class="s1">&#39;desc&#39;</span><span class="p">]</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">});</span>
</pre></div>


<p>Below is the list of the options that are part of groupingView option</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any options below, which is array, should have the same length as the groupField array, when defined</p>
</div>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>groupField</td>
<td>array</td>
<td>Defines the name from colModel on which we group. The first value is the first level, the second values is the second level and etc.</td>
<td>empty</td>
</tr>
<tr>
<td>groupOrder</td>
<td>array</td>
<td>Defines the initial sort order of the group level. Can be asc for ascending or desc for descending order. If the grouping is enabled the default value is asc.</td>
<td>empty</td>
</tr>
<tr>
<td>groupText</td>
<td>array</td>
<td>Defines the grouping header text for the group level that will be displayed in the grid. By default if defined the value if {0} which means that the group value name will be displayed.  It is possible to specify another value {1} which mean that the total cont of this group will be displayed too. It is possible to set here any valid html content.</td>
<td>empty</td>
</tr>
<tr>
<td>groupColumnShow</td>
<td>array</td>
<td>Show/Hide the column on which we group. The value here should be a boolean true/false for the group level. If the grouping is enabled we set this value to true.</td>
<td>empty</td>
</tr>
<tr>
<td>groupSummary</td>
<td>array</td>
<td>Enable or disable the summary (footer) row of the current group level. If grouping is set the default value for the group is false.</td>
<td>empty</td>
</tr>
<tr>
<td>groupSummaryPos</td>
<td>array</td>
<td>Set the position of the summary row at current group level. Possible values - header or footer. If set to header the summary values are placed at the same row where the group values is. If footer is set additional row at end of the group level is build-ed and the summary values are placed here</td>
<td>footer</td>
</tr>
<tr>
<td>hideFirstGroupCol</td>
<td>boolean</td>
<td>If set to true the values at first column are replaced with empty ones so that we have a pretty view. This usually is set ih the first column is a group column</td>
<td>false</td>
</tr>
<tr>
<td>showSummaryOnHide</td>
<td>boolean</td>
<td>Show or hide the summary (footer) row when we collapse the group.</td>
<td>false</td>
</tr>
<tr>
<td>groupCollapse</td>
<td>boolean</td>
<td>Defines if the initially the grid should show or hide the detailed rows of the group.</td>
<td>false</td>
</tr>
<tr>
<td>plusicon</td>
<td>string</td>
<td>Set the icon from jQuery UI  Theme Roller  or Bootstrap that will be used if the grouped row is collapsed. The default is get from styleUI object property grouping for the CSS framework used</td>
<td></td>
</tr>
<tr>
<td>minusicon</td>
<td>string</td>
<td>Set the icon from jQuery UI Theme Roller or Bootstrap that will be used if the grouped row is expanded. The default is get from styleUI object property grouping for the CSS framework used</td>
<td></td>
</tr>
<tr>
<td>isInTheSameGroup</td>
<td>array</td>
<td>The elements of the array correspond to the number of the groups. Every element of this array is a function which should return true or false. In case if it return false the element will be added in the new group. Parameters passed to this function are : previous value, current value, group index, group object</td>
<td>null</td>
</tr>
<tr>
<td>formatDisplayField</td>
<td>array</td>
<td>The elements of the array correspond to the number of the groups. Every element of this array is a function which should return a value, which will be display the grouped value. Parameters passed to this function are: current value, source value, colModel option, group index and group object.</td>
<td>null</td>
</tr>
</tbody>
</table>
<p>The last two functions are very useful to implement custom grouping and display of the grouped values.</p>
<p>Example:</p>
<p>By default jqGrid groups the values case-sensitive. To group the values case-insensitive we can use the <strong>isInTheSameGroup</strong> and <strong>formatDisplayField</strong> properties to solve the problem. Bellow is how this can be done</p>
<div class="codehilite"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#grid_id&quot;</span><span class="p">).</span><span class="nx">jqGrid</span><span class="p">({</span>
  <span class="nx">colModel</span> <span class="o">:</span><span class="p">[</span>
    <span class="p">{</span>
      <span class="nx">name</span> <span class="o">:</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="nx">index</span><span class="o">:</span><span class="s2">&quot;name&quot;</span><span class="p">...</span>
    <span class="p">},{</span>
      <span class="p">...</span>
    <span class="p">}</span>
    <span class="p">...</span>
  <span class="p">],</span>
  <span class="nx">grouping</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">groupingView</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">groupField</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
    <span class="nx">formatDisplayField</span><span class="o">:</span> <span class="p">[</span>
        <span class="c1">//display the filed in lowecase</span>
        <span class="kd">function</span> <span class="p">(</span><span class="nx">dspVal</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">cmopt</span><span class="p">,</span> <span class="nx">level</span><span class="p">,</span> <span class="nx">grpopt</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">String</span><span class="p">(</span><span class="nx">dspVal</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nx">groupColumnShow</span><span class="o">:</span> <span class="p">[</span><span class="kc">true</span><span class="p">],</span>
    <span class="nx">isInTheSameGroup</span><span class="o">:</span> <span class="p">[</span>
        <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">grpopt</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// compare the values</span>
            <span class="k">return</span> <span class="nb">String</span><span class="p">(</span><span class="nx">x</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="nb">String</span><span class="p">(</span><span class="nx">y</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">});</span>
</pre></div>


<p>The callbacks isInTheSameGroup[0] and formatDisplayField[0] will be used by grouping by groupField[0]. Because jqGrid support multilevel grouping the isInTheSameGroup and formatDisplayField properties are arrays of callback functions instead of just callback function.</p>
<p>The function isInTheSameGroup[level] (where level correspond to the level of groupField array) will be used consequently to compare the value of grouping column from of previous row with the corresponding value of the current row. The function isInTheSameGroup[level] will be called with the values. If the callback returns true then the row will be grouped with the previous one.</p>
<p>The callback formatDisplayField[level] allows to customize the information displayed in the grouping header. In the example above it is converted to lowercase.</p>
<h3 id="colmodel-options">colModel options<a class="headerlink" href="#colmodel-options" title="Permanent link">&para;</a></h3>
<p>Additionally if the group summary footer row is enabled we use a option in column model to set the type of the summary field. We add the following options in colModel and its names are: <em>summaryType, summaryTpl, summaryRound and  summaryRoundType</em>.</p>
<p><strong>summaryType</strong></p>
<p>This option can be a string with certain values or a user defined function. Bellow is a example of using this option:</p>
<div class="codehilite"><pre><span></span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;#grid&quot;</span><span class="p">).</span><span class="nx">jqGrid</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="nx">colModel</span> <span class="o">:</span> <span class="p">[</span>
     <span class="p">{..},</span>
     <span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="nx">formatter</span><span class="o">:</span><span class="s1">&#39;number&#39;</span><span class="p">,</span> <span class="nx">summaryType</span><span class="o">:</span><span class="s1">&#39;sum&#39;</span><span class="p">},</span>
     <span class="p">...</span>
  <span class="p">],</span>
  <span class="p">...</span>
<span class="p">});</span>
</pre></div>


<p>The option determines what type of calculation we should do with the current group value applied to column. Currently we support the following build in functions:</p>
<ul>
<li>sum - apply the sum function to the current group value and return the result</li>
<li>count - apply the count function to the current group value and return the result</li>
<li>avg - apply the average function to the current group value and return the result</li>
<li>min - apply the min function to the current group value and return the result</li>
<li>max - apply the max function to the current group value and return the result</li>
<li>function - use custom function for calculations.</li>
</ul>
<p>The option can be defined as function. If defined we pass three parameters to it - the current value, the name and the record object. The function should return value. Note that this value will be used again for the group value until it changes.</p>
<p>Bellow is a example on using this function - simulating the sum function.</p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">mysum</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">record</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">val</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="nb">parseFloat</span><span class="p">((</span><span class="nx">record</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span><span class="o">||</span><span class="mi">0</span><span class="p">));</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;#grid&quot;</span><span class="p">).</span><span class="nx">jqGrid</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="nx">colModel</span> <span class="o">:</span> <span class="p">[</span>
     <span class="p">{..},</span>
     <span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="nx">formatter</span><span class="o">:</span><span class="s1">&#39;number&#39;</span><span class="p">,</span> <span class="nx">summaryType</span><span class="o">:</span><span class="nx">mysum</span><span class="p">},</span>
     <span class="p">...</span>
  <span class="p">],</span>
  <span class="p">...</span>
<span class="p">});</span>
</pre></div>


<p><strong>summaryTpl</strong></p>
<p>This option acts as template which can be used in the summary footer row. By default its value is defined as <strong>{0}</strong> - which means that this will print the calculated (summary) value. A second parameter is possible to be added <strong>{1}</strong> which mean the count of records to the current group The parameter can contain any valid HTML code. As of version 5.3 two additional parameter can be used <strong>{2}</strong>, which is the name of the column and <strong>{3}</strong>  the group value </p>
<p><strong>summaryRound</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{...,</span> <span class="nx">summaryRound</span><span class="o">:</span> <span class="nx">number_of_digits</span><span class="p">,</span> <span class="p">...</span> <span class="p">}</span>
</pre></div>


<p>By default this parameter is not defined in colModel when grouping is on. The number_of_digits by default is not defined. This options determines the length of the remaining part after the decimal point.</p>
<p><strong>summaryRoundType</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span> <span class="nx">summaryRoundType</span><span class="o">:</span> <span class="s1">&#39;round&#39;</span> <span class="o">|</span> <span class="s1">&#39;fixed&#39;</span> <span class="p">}</span>
</pre></div>


<p>This parameter works only if the summaryRound is defined. and sets the rounding method selector.</p>
<p>Parameter round means 'just round it and do not keep trailing zeroes'. fixed means 'round it and keep the given fixed number of digits even zeroes'.</p>
<p>The default option is set to round</p>
<h3 id="group-methods">Group methods<a class="headerlink" href="#group-methods" title="Permanent link">&para;</a></h3>
<p>Bellow are the methods that can be used with the grouping.</p>
<hr />
<p><strong>groupingToggle(string groupid)</strong></p>
<p>Toggles the group identified by groupid. The groupid is a combination of grid id plus 'ghead_' plus the current count number in the grid view. By example if the grid id is named mygrid the the second grouping value in grid will become mygridghead_1</p>
<p><em><strong>paremeters</strong></em></p>
<ul>
<li>string groupid - the id of the group to toggle</li>
</ul>
<p><em><strong>return</strong></em><br />
none</p>
<hr />
<p><strong>groupingGroupBy(mixed name, [object options])</strong></p>
<p>Perform a grouping by given name. The previous grouping is destroyed and new one is applied. A set of additional options can be set with the option parameter. The groupingView object is extended with the options parameter.</p>
<p><em><strong>parameters</strong></em></p>
<ul>
<li>mixed name - can be name from col model or array with a names from colModel. Replaces the groupField array.</li>
<li>object options - a set of allowed options for groupView</li>
</ul>
<p><em><strong>return</strong></em><br />
grid object</p>
<hr />
<p><strong>groupingRemove( boolean current)</strong></p>
<p>Remove the current grouping and set the grouping parameter to false. If the parameter current is set to true all the headers and footers are removed without triggering the grid. If the parameter is false (default) the grid is triggered.<br />
and grouping parameter is set to false. Note that the groupingView parameter is not destroyed.</p>
<p><em><strong>parameters</strong></em></p>
<ul>
<li>boolean current - set to true removed the headers and footers without triggering the grid.</li>
</ul>
<p><em><strong>return</strong></em><br />
grid object</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../editing/" title="Editing" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Editing
              </span>
            </div>
          </a>
        
        
          <a href="../frozencols/" title="Frozen Columns" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Frozen Columns
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright © TriRand Ltd, 2017  by Tony Tomov. All Rights Reserved.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.f041762f.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>